import{r as f,G as P,Z as kn,j as U}from"./page-B7YEiqrx.js";import{r as J}from"./index-BrB2z5_v.js";import{u as Ut,T as Yt,s as Gt,a as qt,E as Dn,F as Hn,n as Xt,m as Et,G as _n,f as zn,y as Nn,t as Bn,o as q,r as Ct,b as Wn,_ as jn}from"./dialog-Cn9YX8oA.js";import{p as Ye,o as M,e as Vn,W as ye,y as Ie,n as K,H as we,M as Rt,u as ve,g as Kn,i as Ne,D as pt,c as Un,V as Yn,m as Gn,A as qn,b as Xn,a as Tt,X as Jn}from"./transition-GAZU1LTs.js";function Qn({title:e,titleId:n,...t},o){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},t),e?f.createElement("title",{id:n},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Zn=f.forwardRef(Qn);function eo({title:e,titleId:n,...t},o){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},t),e?f.createElement("title",{id:n},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const to=f.forwardRef(eo),Jt=typeof document<"u"?P.useLayoutEffect:()=>{};function no(e){const n=f.useRef(null);return Jt(()=>{n.current=e},[e]),f.useCallback((...t)=>{const o=n.current;return o==null?void 0:o(...t)},[])}const Fe=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},de=e=>e&&"window"in e&&e.window===e?e:Fe(e).defaultView||window;function oo(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function ro(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function Qt(e){let n=null;return()=>(n==null&&(n=e()),n)}const io=Qt(function(){return ro(/^Mac/i)}),so=Qt(function(){return oo(/Android/i)});function lo(e){return e.mozInputSource===0&&e.isTrusted?!0:so()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class ao{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function Zt(e){let n=f.useRef({isFocused:!1,observer:null});Jt(()=>{const o=n.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let t=no(o=>{e==null||e(o)});return f.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){n.current.isFocused=!0;let r=o.target,i=l=>{n.current.isFocused=!1,r.disabled&&t(new ao("blur",l)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&r.disabled){var l;(l=n.current.observer)===null||l===void 0||l.disconnect();let s=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),n.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function uo(e){let{isDisabled:n,onFocus:t,onBlur:o,onFocusChange:r}=e;const i=f.useCallback(a=>{if(a.target===a.currentTarget)return o&&o(a),r&&r(!1),!0},[o,r]),l=Zt(i),s=f.useCallback(a=>{const c=Fe(a.target);a.target===a.currentTarget&&c.activeElement===a.target&&(t&&t(a),r&&r(!0),l(a))},[r,t,l]);return{focusProps:{onFocus:!n&&(t||r||o)?s:void 0,onBlur:!n&&(o||r)?i:void 0}}}let Pe=null,st=new Set,$e=new Map,pe=!1,lt=!1;const co={Tab:!0,Escape:!0};function mt(e,n){for(let t of st)t(e,n)}function fo(e){return!(e.metaKey||!io()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Be(e){pe=!0,fo(e)&&(Pe="keyboard",mt("keyboard",e))}function te(e){Pe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(pe=!0,mt("pointer",e))}function en(e){lo(e)&&(pe=!0,Pe="virtual")}function tn(e){e.target===window||e.target===document||(!pe&&!lt&&(Pe="virtual",mt("virtual",e)),pe=!1,lt=!1)}function nn(){pe=!1,lt=!0}function at(e){if(typeof window>"u"||$e.get(de(e)))return;const n=de(e),t=Fe(e);let o=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){pe=!0,o.apply(this,arguments)},t.addEventListener("keydown",Be,!0),t.addEventListener("keyup",Be,!0),t.addEventListener("click",en,!0),n.addEventListener("focus",tn,!0),n.addEventListener("blur",nn,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",te,!0),t.addEventListener("pointermove",te,!0),t.addEventListener("pointerup",te,!0)):(t.addEventListener("mousedown",te,!0),t.addEventListener("mousemove",te,!0),t.addEventListener("mouseup",te,!0)),n.addEventListener("beforeunload",()=>{on(e)},{once:!0}),$e.set(n,{focus:o})}const on=(e,n)=>{const t=de(e),o=Fe(e);n&&o.removeEventListener("DOMContentLoaded",n),$e.has(t)&&(t.HTMLElement.prototype.focus=$e.get(t).focus,o.removeEventListener("keydown",Be,!0),o.removeEventListener("keyup",Be,!0),o.removeEventListener("click",en,!0),t.removeEventListener("focus",tn,!0),t.removeEventListener("blur",nn,!1),typeof PointerEvent<"u"?(o.removeEventListener("pointerdown",te,!0),o.removeEventListener("pointermove",te,!0),o.removeEventListener("pointerup",te,!0)):(o.removeEventListener("mousedown",te,!0),o.removeEventListener("mousemove",te,!0),o.removeEventListener("mouseup",te,!0)),$e.delete(t))};function po(e){const n=Fe(e);let t;return n.readyState!=="loading"?at(e):(t=()=>{at(e)},n.addEventListener("DOMContentLoaded",t)),()=>on(e,t)}typeof document<"u"&&po();function rn(){return Pe!=="pointer"}const mo=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ho(e,n,t){var o;const r=typeof window<"u"?de(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?de(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?de(t==null?void 0:t.target).HTMLElement:HTMLElement,s=typeof window<"u"?de(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof r&&!mo.has(t==null||(o=t.target)===null||o===void 0?void 0:o.type)||(t==null?void 0:t.target)instanceof i||(t==null?void 0:t.target)instanceof l&&(t==null?void 0:t.target.isContentEditable),!(e&&n==="keyboard"&&t instanceof s&&!co[t.key])}function go(e,n,t){at(),f.useEffect(()=>{let o=(r,i)=>{ho(!!(t!=null&&t.isTextInput),r,i)&&e(rn())};return st.add(o),()=>{st.delete(o)}},n)}function vo(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:o,onFocusWithinChange:r}=e,i=f.useRef({isFocusWithin:!1}),l=f.useCallback(c=>{i.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(i.current.isFocusWithin=!1,t&&t(c),r&&r(!1))},[t,r,i]),s=Zt(l),a=f.useCallback(c=>{!i.current.isFocusWithin&&document.activeElement===c.target&&(o&&o(c),r&&r(!0),i.current.isFocusWithin=!0,s(c))},[o,r,s]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:a,onBlur:l}}}let We=!1,Ze=0;function ut(){We=!0,setTimeout(()=>{We=!1},50)}function St(e){e.pointerType==="touch"&&ut()}function bo(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",St):document.addEventListener("touchend",ut),Ze++,()=>{Ze--,!(Ze>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",St):document.removeEventListener("touchend",ut))}}function sn(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:o,isDisabled:r}=e,[i,l]=f.useState(!1),s=f.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;f.useEffect(bo,[]);let{hoverProps:a,triggerHoverEnd:c}=f.useMemo(()=>{let d=(u,h)=>{if(s.pointerType=h,r||h==="touch"||s.isHovered||!u.currentTarget.contains(u.target))return;s.isHovered=!0;let m=u.currentTarget;s.target=m,n&&n({type:"hoverstart",target:m,pointerType:h}),t&&t(!0),l(!0)},p=(u,h)=>{if(s.pointerType="",s.target=null,h==="touch"||!s.isHovered)return;s.isHovered=!1;let m=u.currentTarget;o&&o({type:"hoverend",target:m,pointerType:h}),t&&t(!1),l(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=u=>{We&&u.pointerType==="mouse"||d(u,u.pointerType)},v.onPointerLeave=u=>{!r&&u.currentTarget.contains(u.target)&&p(u,u.pointerType)}):(v.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=u=>{!s.ignoreEmulatedMouseEvents&&!We&&d(u,"mouse"),s.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=u=>{!r&&u.currentTarget.contains(u.target)&&p(u,"mouse")}),{hoverProps:v,triggerHoverEnd:p}},[n,t,o,r,s]);return f.useEffect(()=>{r&&c({currentTarget:s.target},s.pointerType)},[r]),{hoverProps:a,isHovered:i}}function ln(e={}){let{autoFocus:n=!1,isTextInput:t,within:o}=e,r=f.useRef({isFocused:!1,isFocusVisible:n||rn()}),[i,l]=f.useState(!1),[s,a]=f.useState(()=>r.current.isFocused&&r.current.isFocusVisible),c=f.useCallback(()=>a(r.current.isFocused&&r.current.isFocusVisible),[]),d=f.useCallback(u=>{r.current.isFocused=u,l(u),c()},[c]);go(u=>{r.current.isFocusVisible=u,c()},[],{isTextInput:t});let{focusProps:p}=uo({isDisabled:o,onFocusChange:d}),{focusWithinProps:v}=vo({isDisabled:!o,onFocusWithinChange:d});return{isFocused:i,isFocusVisible:s,focusProps:o?v:p}}function xo(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function yo(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function wo({disabled:e=!1}={}){let n=f.useRef(null),[t,o]=f.useState(!1),r=Ye(),i=M(()=>{n.current=null,o(!1),r.dispose()}),l=M(s=>{if(r.dispose(),n.current===null){n.current=s.currentTarget,o(!0);{let a=Ut(s.currentTarget);r.addEventListener(a,"pointerup",i,!1),r.addEventListener(a,"pointermove",c=>{if(n.current){let d=xo(c);o(yo(d,n.current.getBoundingClientRect()))}},!1),r.addEventListener(a,"pointercancel",i,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:l,onPointerUp:i,onClick:i}}}function Eo(e,n,t){let[o,r]=f.useState(t),i=e!==void 0,l=f.useRef(i),s=f.useRef(!1),a=f.useRef(!1);return i&&!l.current&&!s.current?(s.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!a.current&&(a.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:o,M(c=>(i||r(c),n==null?void 0:n(c)))]}function Co(e){let[n]=f.useState(e);return n}function an(e={},n=null,t=[]){for(let[o,r]of Object.entries(e))cn(t,un(n,o),r);return t}function un(e,n){return e?e+"["+n+"]":n}function cn(e,n,t){if(Array.isArray(t))for(let[o,r]of t.entries())cn(e,un(n,o.toString()),r);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):an(t,n,e)}let Ro=f.createContext(null);function To({children:e}){let n=f.useContext(Ro);if(!n)return P.createElement(P.Fragment,null,e);let{target:t}=n;return t?J.createPortal(P.createElement(P.Fragment,null,e),t):null}function So({data:e,form:n,disabled:t,onReset:o,overrides:r}){let[i,l]=f.useState(null),s=Ye();return f.useEffect(()=>{if(o&&i)return s.addEventListener(i,"reset",o)},[i,n,o]),P.createElement(To,null,P.createElement($o,{setForm:l,formId:n}),an(e).map(([a,c])=>P.createElement(Yt,{features:Gt.Hidden,...Vn({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:a,value:c,...r})})))}function $o({setForm:e,formId:n}){return f.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:P.createElement(Yt,{features:Gt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let o=t.closest("form");o&&e(o)}})}let Oo=f.createContext(void 0);function fn(){return f.useContext(Oo)}function Mo(e){let n=e.parentElement,t=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(t=n),n=n.parentElement;let o=(n==null?void 0:n.getAttribute("disabled"))==="";return o&&Io(t)?!1:o}function Io(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}let Ge=f.createContext(null);Ge.displayName="LabelContext";function dn(){let e=f.useContext(Ge);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,dn),n}return e}function qe(e){var n,t,o;let r=(t=(n=f.useContext(Ge))==null?void 0:n.value)!=null?t:void 0;return((o=e==null?void 0:e.length)!=null?o:0)>0?[r,...e].filter(Boolean).join(" "):r}function Fo({inherit:e=!1}={}){let n=qe(),[t,o]=f.useState([]),r=e?[n,...t].filter(Boolean):t;return[r.length>0?r.join(" "):void 0,f.useMemo(()=>function(i){let l=M(a=>(o(c=>[...c,a]),()=>o(c=>{let d=c.slice(),p=d.indexOf(a);return p!==-1&&d.splice(p,1),d}))),s=f.useMemo(()=>({register:l,slot:i.slot,name:i.name,props:i.props,value:i.value}),[l,i.slot,i.name,i.props,i.value]);return P.createElement(Ge.Provider,{value:s},i.children)},[o])]}let Po="label";function Lo(e,n){var t;let o=f.useId(),r=dn(),i=fn(),l=qt(),{id:s=`headlessui-label-${o}`,htmlFor:a=i??((t=r.props)==null?void 0:t.htmlFor),passive:c=!1,...d}=e,p=Ie(n);K(()=>r.register(s),[s,r.register]);let v=M(g=>{let b=g.currentTarget;if(b instanceof HTMLLabelElement&&g.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(g),b instanceof HTMLLabelElement){let y=document.getElementById(b.htmlFor);if(y){let x=y.getAttribute("disabled");if(x==="true"||x==="")return;let w=y.getAttribute("aria-disabled");if(w==="true"||w==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),u=l||!1,h=f.useMemo(()=>({...r.slot,disabled:u}),[r.slot,u]),m={ref:p,...r.props,id:s,htmlFor:a,onClick:v};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in d&&delete d.onClick),we({ourProps:m,theirProps:d,slot:h,defaultTag:a?Po:"div",name:r.name||"Label"})}let Ao=ye(Lo),ko=Object.assign(Ao,{});function Te(e,n,t){let o=t.initialDeps??[],r;return()=>{var i,l,s,a;let c;t.key&&((i=t.debug)!=null&&i.call(t))&&(c=Date.now());const d=e();if(!(d.length!==o.length||d.some((u,h)=>o[h]!==u)))return r;o=d;let v;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(v=Date.now()),r=n(...d),t.key&&((s=t.debug)!=null&&s.call(t))){const u=Math.round((Date.now()-c)*100)/100,h=Math.round((Date.now()-v)*100)/100,m=h/16,g=(b,y)=>{for(b=String(b);b.length<y;)b=" "+b;return b};console.info(`%câ± ${g(h,5)} /${g(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(a=t==null?void 0:t.onChange)==null||a.call(t,r),r}}function et(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Do=(e,n)=>Math.abs(e-n)<1,Ho=(e,n,t)=>{let o;return function(...r){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,r),t)}},_o=e=>e,zo=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let r=n;r<=t;r++)o.push(r);return o},No=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const r=l=>{const{width:s,height:a}=l;n({width:Math.round(s),height:Math.round(a)})};if(r(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(l=>{const s=l[0];if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a){r({width:a.inlineSize,height:a.blockSize});return}}r(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},$t={passive:!0},Bo=typeof window>"u"?!0:"onscrollend"in window,Wo=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let r=0;const i=Bo?()=>{}:Ho(o,()=>{n(r,!1)},e.options.isScrollingResetDelay),l=c=>()=>{r=t[e.options.horizontal?"scrollLeft":"scrollTop"],i(),n(r,c)},s=l(!0),a=l(!1);return a(),t.addEventListener("scroll",s,$t),t.addEventListener("scrollend",a,$t),()=>{t.removeEventListener("scroll",s),t.removeEventListener("scrollend",a)}},jo=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Vo=(e,{adjustments:n=0,behavior:t},o)=>{var r,i;const l=e+n;(i=(r=o.scrollElement)==null?void 0:r.scrollTo)==null||i.call(r,{[o.options.horizontal?"left":"top"]:l,behavior:t})};class Ko{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(r=>{r.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var r;return(r=o())==null?void 0:r.disconnect()},observe:r=>{var i;return(i=o())==null?void 0:i.observe(r,{box:"border-box"})},unobserve:r=>{var i;return(i=o())==null?void 0:i.unobserve(r)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,r])=>{typeof r>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:_o,rangeExtractor:zo,onChange:()=>{},measureElement:jo,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...t}},this.notify=(t,o)=>{var r,i;const{startIndex:l,endIndex:s}=this.range??{startIndex:void 0,endIndex:void 0},a=this.calculateRange();(t||l!==(a==null?void 0:a.startIndex)||s!==(a==null?void 0:a.endIndex))&&((i=(r=this.options).onChange)==null||i.call(r,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.notify(!1,!1);return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r;const l=this.isScrolling;this.isScrolling=i,this.notify(l!==i,i)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const r=new Map,i=new Map;for(let l=o-1;l>=0;l--){const s=t[l];if(r.has(s.lane))continue;const a=i.get(s.lane);if(a==null||s.end>a.end?i.set(s.lane,s):s.end<a.end&&r.set(s.lane,!0),r.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurementOptions=Te(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,r,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:r,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=Te(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:r,getItemKey:i,enabled:l},s)=>{var a;if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,c);for(let p=c;p<t;p++){let v=(a=this.measurementsCache[p])==null?void 0:a.measureElement;v||(v=w=>{const C=i(p),R=this.elementsCache.get(C);if(!w){R&&(this.observer.unobserve(R),this.elementsCache.delete(C));return}R!==w&&(R&&this.observer.unobserve(R),this.observer.observe(w),this.elementsCache.set(C,w)),w.isConnected&&this.resizeItem(p,this.options.measureElement(w,void 0,this))});const u=i(p),h=this.options.lanes===1?d[p-1]:this.getFurthestMeasurement(d,p),m=h?h.end+this.options.gap:o+r,g=s.get(u),b=typeof g=="number"?g:this.options.estimateSize(p),y=m+b,x=h?h.lane:p%this.options.lanes;d[p]={index:p,start:m,size:b,end:y,key:u,lane:x,measureElement:v}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Te(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,o,r)=>this.range=t.length>0&&o>0?Uo({measurements:t,outerSize:o,scrollOffset:r}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Te(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,r,i)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,r=t.getAttribute(o);return r?parseInt(r,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const r=this.indexFromElement(t),i=this.getMeasurements()[r];if(!i||!t.isConnected){this.elementsCache.forEach((s,a)=>{s===t&&(this.observer.unobserve(t),this.elementsCache.delete(a))});return}const l=this.elementsCache.get(i.key);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(i.key,t)),this.resizeItem(r,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const r=this.getMeasurements()[t];if(!r)return;const i=this.itemSizeCache.get(r.key)??r.size,l=o-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,l,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,o)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=Te(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const r=[];for(let i=0,l=t.length;i<l;i++){const s=t[i],a=o[s];r.push(a)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return et(o[pn(0,o.length-1,r=>et(o[r]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const r=this.getSize(),i=this.getScrollOffset();o==="auto"&&(t<=i?o="start":t>=i+r?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-r:o==="center"&&(t=t-r/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-r;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const r=this.getMeasurements()[t];if(!r)return;const i=this.getSize(),l=this.getScrollOffset();if(o==="auto")if(r.end>=l+i-this.options.scrollPaddingEnd)o="end";else if(r.start<=l+this.options.scrollPaddingStart)o="start";else return[l,o];const s=o==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,o),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:r})},this.scrollToIndex=(t,{align:o="auto",behavior:r}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,o);if(!i)return;const[l,s]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:r}),r!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[c]=et(this.getOffsetForIndex(t,s));Do(c,this.getScrollOffset())||this.scrollToIndex(t,{align:s,behavior:r})}else this.scrollToIndex(t,{align:s,behavior:r})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let r;return o.length===0?r=this.options.paddingStart:r=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(i=>i.end)),r-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:r})=>{this.options.scrollToFn(t,{behavior:r,adjustments:o},this)},this.measure=()=>{var t,o;this.itemSizeCache=new Map,(o=(t=this.options).onChange)==null||o.call(t,this,!1)},this.setOptions(n)}}const pn=(e,n,t,o)=>{for(;e<=n;){const r=(e+n)/2|0,i=t(r);if(i<o)e=r+1;else if(i>o)n=r-1;else return r}return e>0?e-1:0};function Uo({measurements:e,outerSize:n,scrollOffset:t}){const o=e.length-1,i=pn(0,o,s=>e[s].start,t);let l=i;for(;l<o&&e[l].end<t+n;)l++;return{startIndex:i,endIndex:l}}const Yo=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Go(e){const n=f.useReducer(()=>({}),{})[1],t={...e,onChange:(r,i)=>{var l;i?J.flushSync(n):n(),(l=e.onChange)==null||l.call(e,r,i)}},[o]=f.useState(()=>new Ko(t));return o.setOptions(t),f.useEffect(()=>o._didMount(),[]),Yo(()=>o._willUpdate()),o}function qo(e){return Go({observeElementRect:No,observeElementOffset:Wo,scrollToFn:Vo,...e})}function Xo(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function Jo(e=Xo){return f.useCallback((n,t)=>{if(typeof e=="string"){let o=e;return(n==null?void 0:n[o])===(t==null?void 0:t[o])}return e(n,t)},[e])}function Qo(e){if(e===null)return{width:0,height:0};let{width:n,height:t}=e.getBoundingClientRect();return{width:n,height:t}}function Ot(e,n=!1){let t=e===null?null:"current"in e?e.current:e,[o,r]=f.useReducer(()=>({}),{}),i=f.useMemo(()=>Qo(t),[t,o]);return K(()=>{if(!t)return;let l=new ResizeObserver(r);return l.observe(t),()=>{l.disconnect()}},[t]),n?{width:`${i.width}px`,height:`${i.height}px`}:i}function mn(e){let n=f.useRef({value:"",selectionStart:null,selectionEnd:null});return Dn(e.current,"blur",t=>{let o=t.target;o instanceof HTMLInputElement&&(n.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),M(()=>{let t=e.current;if(document.activeElement!==t&&t instanceof HTMLInputElement&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==n.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:o,selectionEnd:r}=n.current;o!==null&&r!==null&&t.setSelectionRange(o,r)}n.current={value:"",selectionStart:null,selectionEnd:null}}})}function Mt(e){var n;if(e.type)return e.type;let t=(n=e.as)!=null?n:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Zo(e,n){let[t,o]=f.useState(()=>Mt(e));return K(()=>{o(Mt(e))},[e.type,e.as]),K(()=>{t||n.current&&n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&o("button")},[t,n]),t}function It(e){return[e.screenX,e.screenY]}function er(){let e=f.useRef([-1,-1]);return{wasMoved(n){let t=It(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=It(n)}}}function tr(e,{container:n,accept:t,walk:o}){let r=f.useRef(t),i=f.useRef(o);f.useEffect(()=>{r.current=t,i.current=o},[t,o]),K(()=>{if(!n||!e)return;let l=Ut(n);if(!l)return;let s=r.current,a=i.current,c=Object.assign(p=>s(p),{acceptNode:s}),d=l.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)a(d.currentNode)},[n,e,r,i])}function Ee(e){return hn(e)?(e.nodeName||"").toLowerCase():"#document"}function Q(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function le(e){var n;return(n=(hn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function hn(e){return e instanceof Node||e instanceof Q(e).Node}function Y(e){return e instanceof Element||e instanceof Q(e).Element}function se(e){return e instanceof HTMLElement||e instanceof Q(e).HTMLElement}function Ft(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Q(e).ShadowRoot}function Le(e){const{overflow:n,overflowX:t,overflowY:o,display:r}=oe(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+t)&&!["inline","contents"].includes(r)}function nr(e){return["table","td","th"].includes(Ee(e))}function Xe(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function ht(e){const n=gt(),t=Y(e)?oe(e):e;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function or(e){let n=ue(e);for(;se(n)&&!xe(n);){if(ht(n))return n;if(Xe(n))return null;n=ue(n)}return null}function gt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xe(e){return["html","body","#document"].includes(Ee(e))}function oe(e){return Q(e).getComputedStyle(e)}function Je(e){return Y(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(Ee(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Ft(e)&&e.host||le(e);return Ft(n)?n.host:n}function gn(e){const n=ue(e);return xe(n)?e.ownerDocument?e.ownerDocument.body:e.body:se(n)&&Le(n)?n:gn(n)}function Oe(e,n,t){var o;n===void 0&&(n=[]),t===void 0&&(t=!0);const r=gn(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),l=Q(r);return i?n.concat(l,l.visualViewport||[],Le(r)?r:[],l.frameElement&&t?Oe(l.frameElement):[]):n.concat(r,Oe(r,[],t))}function rr(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:t,version:o}=n;return t+"/"+o}).join(" "):navigator.userAgent}const ae=Math.min,X=Math.max,je=Math.round,_e=Math.floor,ce=e=>({x:e,y:e}),ir={left:"right",right:"left",bottom:"top",top:"bottom"},sr={start:"end",end:"start"};function Pt(e,n,t){return X(e,ae(n,t))}function Ce(e,n){return typeof e=="function"?e(n):e}function fe(e){return e.split("-")[0]}function Ae(e){return e.split("-")[1]}function vn(e){return e==="x"?"y":"x"}function bn(e){return e==="y"?"height":"width"}function me(e){return["top","bottom"].includes(fe(e))?"y":"x"}function xn(e){return vn(me(e))}function lr(e,n,t){t===void 0&&(t=!1);const o=Ae(e),r=xn(e),i=bn(r);let l=r==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(l=Ve(l)),[l,Ve(l)]}function ar(e){const n=Ve(e);return[ct(e),n,ct(n)]}function ct(e){return e.replace(/start|end/g,n=>sr[n])}function ur(e,n,t){const o=["left","right"],r=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return t?n?r:o:n?o:r;case"left":case"right":return n?i:l;default:return[]}}function cr(e,n,t,o){const r=Ae(e);let i=ur(fe(e),t==="start",o);return r&&(i=i.map(l=>l+"-"+r),n&&(i=i.concat(i.map(ct)))),i}function Ve(e){return e.replace(/left|right|bottom|top/g,n=>ir[n])}function fr(e){return{top:0,right:0,bottom:0,left:0,...e}}function dr(e){return typeof e!="number"?fr(e):{top:e,right:e,bottom:e,left:e}}function Ke(e){const{x:n,y:t,width:o,height:r}=e;return{width:o,height:r,top:t,left:n,right:n+o,bottom:t+r,x:n,y:t}}function Lt(e,n,t){let{reference:o,floating:r}=e;const i=me(n),l=xn(n),s=bn(l),a=fe(n),c=i==="y",d=o.x+o.width/2-r.width/2,p=o.y+o.height/2-r.height/2,v=o[s]/2-r[s]/2;let u;switch(a){case"top":u={x:d,y:o.y-r.height};break;case"bottom":u={x:d,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:p};break;case"left":u={x:o.x-r.width,y:p};break;default:u={x:o.x,y:o.y}}switch(Ae(n)){case"start":u[l]-=v*(t&&c?-1:1);break;case"end":u[l]+=v*(t&&c?-1:1);break}return u}const pr=async(e,n,t)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:l}=t,s=i.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(n));let c=await l.getElementRects({reference:e,floating:n,strategy:r}),{x:d,y:p}=Lt(c,o,a),v=o,u={},h=0;for(let m=0;m<s.length;m++){const{name:g,fn:b}=s[m],{x:y,y:x,data:w,reset:C}=await b({x:d,y:p,initialPlacement:o,placement:v,strategy:r,middlewareData:u,rects:c,platform:l,elements:{reference:e,floating:n}});d=y??d,p=x??p,u={...u,[g]:{...u[g],...w}},C&&h<=50&&(h++,typeof C=="object"&&(C.placement&&(v=C.placement),C.rects&&(c=C.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:r}):C.rects),{x:d,y:p}=Lt(c,v,a)),m=-1)}return{x:d,y:p,placement:v,strategy:r,middlewareData:u}};async function Qe(e,n){var t;n===void 0&&(n={});const{x:o,y:r,platform:i,rects:l,elements:s,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:v=!1,padding:u=0}=Ce(n,e),h=dr(u),g=s[v?p==="floating"?"reference":"floating":p],b=Ke(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(g)))==null||t?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:a})),y=p==="floating"?{x:o,y:r,width:l.floating.width,height:l.floating.height}:l.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=Ke(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:x,strategy:a}):y);return{top:(b.top-C.top+h.top)/w.y,bottom:(C.bottom-b.bottom+h.bottom)/w.y,left:(b.left-C.left+h.left)/w.x,right:(C.right-b.right+h.right)/w.x}}const mr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,o;const{placement:r,middlewareData:i,rects:l,initialPlacement:s,platform:a,elements:c}=n,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=Ce(e,n);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const b=fe(r),y=me(s),x=fe(s)===s,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),C=v||(x||!m?[Ve(s)]:ar(s)),R=h!=="none";!v&&R&&C.push(...cr(s,m,h,w));const S=[s,...C],A=await Qe(n,g),N=[];let D=((o=i.flip)==null?void 0:o.overflows)||[];if(d&&N.push(A[b]),p){const O=lr(r,l,w);N.push(A[O[0]],A[O[1]])}if(D=[...D,{placement:r,overflows:N}],!N.every(O=>O<=0)){var F,z;const O=(((F=i.flip)==null?void 0:F.index)||0)+1,L=S[O];if(L)return{data:{index:O,overflows:D},reset:{placement:L}};let B=(z=D.filter(E=>E.overflows[0]<=0).sort((E,H)=>E.overflows[1]-H.overflows[1])[0])==null?void 0:z.placement;if(!B)switch(u){case"bestFit":{var k;const E=(k=D.filter(H=>{if(R){const $=me(H.placement);return $===y||$==="y"}return!0}).map(H=>[H.placement,H.overflows.filter($=>$>0).reduce(($,Z)=>$+Z,0)]).sort((H,$)=>H[1]-$[1])[0])==null?void 0:k[0];E&&(B=E);break}case"initialPlacement":B=s;break}if(r!==B)return{reset:{placement:B}}}return{}}}};async function hr(e,n){const{placement:t,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),l=fe(t),s=Ae(t),a=me(t)==="y",c=["left","top"].includes(l)?-1:1,d=i&&a?-1:1,p=Ce(n,e);let{mainAxis:v,crossAxis:u,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return s&&typeof h=="number"&&(u=s==="end"?h*-1:h),a?{x:u*d,y:v*c}:{x:v*c,y:u*d}}const gr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,o;const{x:r,y:i,placement:l,middlewareData:s}=n,a=await hr(n,e);return l===((t=s.offset)==null?void 0:t.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:l}}}}},vr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:o,placement:r}=n,{mainAxis:i=!0,crossAxis:l=!1,limiter:s={fn:g=>{let{x:b,y}=g;return{x:b,y}}},...a}=Ce(e,n),c={x:t,y:o},d=await Qe(n,a),p=me(fe(r)),v=vn(p);let u=c[v],h=c[p];if(i){const g=v==="y"?"top":"left",b=v==="y"?"bottom":"right",y=u+d[g],x=u-d[b];u=Pt(y,u,x)}if(l){const g=p==="y"?"top":"left",b=p==="y"?"bottom":"right",y=h+d[g],x=h-d[b];h=Pt(y,h,x)}const m=s.fn({...n,[v]:u,[p]:h});return{...m,data:{x:m.x-t,y:m.y-o}}}}},br=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){const{placement:t,rects:o,platform:r,elements:i}=n,{apply:l=()=>{},...s}=Ce(e,n),a=await Qe(n,s),c=fe(t),d=Ae(t),p=me(t)==="y",{width:v,height:u}=o.floating;let h,m;c==="top"||c==="bottom"?(h=c,m=d===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(m=c,h=d==="end"?"top":"bottom");const g=u-a.top-a.bottom,b=v-a.left-a.right,y=ae(u-a[h],g),x=ae(v-a[m],b),w=!n.middlewareData.shift;let C=y,R=x;if(p?R=d||w?ae(x,b):b:C=d||w?ae(y,g):g,w&&!d){const A=X(a.left,0),N=X(a.right,0),D=X(a.top,0),F=X(a.bottom,0);p?R=v-2*(A!==0||N!==0?A+N:X(a.left,a.right)):C=u-2*(D!==0||F!==0?D+F:X(a.top,a.bottom))}await l({...n,availableWidth:R,availableHeight:C});const S=await r.getDimensions(i.floating);return v!==S.width||u!==S.height?{reset:{rects:!0}}:{}}}};function yn(e){const n=oe(e);let t=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const r=se(e),i=r?e.offsetWidth:t,l=r?e.offsetHeight:o,s=je(t)!==i||je(o)!==l;return s&&(t=i,o=l),{width:t,height:o,$:s}}function vt(e){return Y(e)?e:e.contextElement}function be(e){const n=vt(e);if(!se(n))return ce(1);const t=n.getBoundingClientRect(),{width:o,height:r,$:i}=yn(n);let l=(i?je(t.width):t.width)/o,s=(i?je(t.height):t.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const xr=ce(0);function wn(e){const n=Q(e);return!gt()||!n.visualViewport?xr:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function yr(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Q(e)?!1:n}function he(e,n,t,o){n===void 0&&(n=!1),t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=vt(e);let l=ce(1);n&&(o?Y(o)&&(l=be(o)):l=be(e));const s=yr(i,t,o)?wn(i):ce(0);let a=(r.left+s.x)/l.x,c=(r.top+s.y)/l.y,d=r.width/l.x,p=r.height/l.y;if(i){const v=Q(i),u=o&&Y(o)?Q(o):o;let h=v,m=h.frameElement;for(;m&&o&&u!==h;){const g=be(m),b=m.getBoundingClientRect(),y=oe(m),x=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,w=b.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;a*=g.x,c*=g.y,d*=g.x,p*=g.y,a+=x,c+=w,h=Q(m),m=h.frameElement}}return Ke({width:d,height:p,x:a,y:c})}function wr(e){let{elements:n,rect:t,offsetParent:o,strategy:r}=e;const i=r==="fixed",l=le(o),s=n?Xe(n.floating):!1;if(o===l||s&&i)return t;let a={scrollLeft:0,scrollTop:0},c=ce(1);const d=ce(0),p=se(o);if((p||!p&&!i)&&((Ee(o)!=="body"||Le(l))&&(a=Je(o)),se(o))){const v=he(o);c=be(o),d.x=v.x+o.clientLeft,d.y=v.y+o.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-a.scrollLeft*c.x+d.x,y:t.y*c.y-a.scrollTop*c.y+d.y}}function Er(e){return Array.from(e.getClientRects())}function En(e){return he(le(e)).left+Je(e).scrollLeft}function Cr(e){const n=le(e),t=Je(e),o=e.ownerDocument.body,r=X(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),i=X(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let l=-t.scrollLeft+En(e);const s=-t.scrollTop;return oe(o).direction==="rtl"&&(l+=X(n.clientWidth,o.clientWidth)-r),{width:r,height:i,x:l,y:s}}function Rr(e,n){const t=Q(e),o=le(e),r=t.visualViewport;let i=o.clientWidth,l=o.clientHeight,s=0,a=0;if(r){i=r.width,l=r.height;const c=gt();(!c||c&&n==="fixed")&&(s=r.offsetLeft,a=r.offsetTop)}return{width:i,height:l,x:s,y:a}}function Tr(e,n){const t=he(e,!0,n==="fixed"),o=t.top+e.clientTop,r=t.left+e.clientLeft,i=se(e)?be(e):ce(1),l=e.clientWidth*i.x,s=e.clientHeight*i.y,a=r*i.x,c=o*i.y;return{width:l,height:s,x:a,y:c}}function At(e,n,t){let o;if(n==="viewport")o=Rr(e,t);else if(n==="document")o=Cr(le(e));else if(Y(n))o=Tr(n,t);else{const r=wn(e);o={...n,x:n.x-r.x,y:n.y-r.y}}return Ke(o)}function Cn(e,n){const t=ue(e);return t===n||!Y(t)||xe(t)?!1:oe(t).position==="fixed"||Cn(t,n)}function Sr(e,n){const t=n.get(e);if(t)return t;let o=Oe(e,[],!1).filter(s=>Y(s)&&Ee(s)!=="body"),r=null;const i=oe(e).position==="fixed";let l=i?ue(e):e;for(;Y(l)&&!xe(l);){const s=oe(l),a=ht(l);!a&&s.position==="fixed"&&(r=null),(i?!a&&!r:!a&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Le(l)&&!a&&Cn(e,l))?o=o.filter(d=>d!==l):r=s,l=ue(l)}return n.set(e,o),o}function $r(e){let{element:n,boundary:t,rootBoundary:o,strategy:r}=e;const l=[...t==="clippingAncestors"?Xe(n)?[]:Sr(n,this._c):[].concat(t),o],s=l[0],a=l.reduce((c,d)=>{const p=At(n,d,r);return c.top=X(p.top,c.top),c.right=ae(p.right,c.right),c.bottom=ae(p.bottom,c.bottom),c.left=X(p.left,c.left),c},At(n,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Or(e){const{width:n,height:t}=yn(e);return{width:n,height:t}}function Mr(e,n,t){const o=se(n),r=le(n),i=t==="fixed",l=he(e,!0,i,n);let s={scrollLeft:0,scrollTop:0};const a=ce(0);if(o||!o&&!i)if((Ee(n)!=="body"||Le(r))&&(s=Je(n)),o){const p=he(n,!0,i,n);a.x=p.x+n.clientLeft,a.y=p.y+n.clientTop}else r&&(a.x=En(r));const c=l.left+s.scrollLeft-a.x,d=l.top+s.scrollTop-a.y;return{x:c,y:d,width:l.width,height:l.height}}function tt(e){return oe(e).position==="static"}function kt(e,n){return!se(e)||oe(e).position==="fixed"?null:n?n(e):e.offsetParent}function Rn(e,n){const t=Q(e);if(Xe(e))return t;if(!se(e)){let r=ue(e);for(;r&&!xe(r);){if(Y(r)&&!tt(r))return r;r=ue(r)}return t}let o=kt(e,n);for(;o&&nr(o)&&tt(o);)o=kt(o,n);return o&&xe(o)&&tt(o)&&!ht(o)?t:o||or(e)||t}const Ir=async function(e){const n=this.getOffsetParent||Rn,t=this.getDimensions,o=await t(e.floating);return{reference:Mr(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Fr(e){return oe(e).direction==="rtl"}const Pr={convertOffsetParentRelativeRectToViewportRelativeRect:wr,getDocumentElement:le,getClippingRect:$r,getOffsetParent:Rn,getElementRects:Ir,getClientRects:Er,getDimensions:Or,getScale:be,isElement:Y,isRTL:Fr};function Lr(e,n){let t=null,o;const r=le(e);function i(){var s;clearTimeout(o),(s=t)==null||s.disconnect(),t=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),i();const{left:c,top:d,width:p,height:v}=e.getBoundingClientRect();if(s||n(),!p||!v)return;const u=_e(d),h=_e(r.clientWidth-(c+p)),m=_e(r.clientHeight-(d+v)),g=_e(c),y={rootMargin:-u+"px "+-h+"px "+-m+"px "+-g+"px",threshold:X(0,ae(1,a))||1};let x=!0;function w(C){const R=C[0].intersectionRatio;if(R!==a){if(!x)return l();R?l(!1,R):o=setTimeout(()=>{l(!1,1e-7)},1e3)}x=!1}try{t=new IntersectionObserver(w,{...y,root:r.ownerDocument})}catch{t=new IntersectionObserver(w,y)}t.observe(e)}return l(!0),i}function Ar(e,n,t,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=vt(e),d=r||i?[...c?Oe(c):[],...Oe(n)]:[];d.forEach(b=>{r&&b.addEventListener("scroll",t,{passive:!0}),i&&b.addEventListener("resize",t)});const p=c&&s?Lr(c,t):null;let v=-1,u=null;l&&(u=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&u&&(u.unobserve(n),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(n)})),t()}),c&&!a&&u.observe(c),u.observe(n));let h,m=a?he(e):null;a&&g();function g(){const b=he(e);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&t(),m=b,h=requestAnimationFrame(g)}return t(),()=>{var b;d.forEach(y=>{r&&y.removeEventListener("scroll",t),i&&y.removeEventListener("resize",t)}),p==null||p(),(b=u)==null||b.disconnect(),u=null,a&&cancelAnimationFrame(h)}}const nt=Qe,kr=gr,Dr=vr,Hr=mr,_r=br,zr=(e,n,t)=>{const o=new Map,r={platform:Pr,...t},i={...r.platform,_c:o};return pr(e,n,{...r,platform:i})};var ze=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Ue(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,o,r;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(o=t;o--!==0;)if(!Ue(e[o],n[o]))return!1;return!0}if(r=Object.keys(e),t=r.length,t!==Object.keys(n).length)return!1;for(o=t;o--!==0;)if(!{}.hasOwnProperty.call(n,r[o]))return!1;for(o=t;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!Ue(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function Tn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dt(e,n){const t=Tn(e);return Math.round(n*t)/t}function Ht(e){const n=f.useRef(e);return ze(()=>{n.current=e}),n}function Nr(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:l}={},transform:s=!0,whileElementsMounted:a,open:c}=e,[d,p]=f.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[v,u]=f.useState(o);Ue(v,o)||u(o);const[h,m]=f.useState(null),[g,b]=f.useState(null),y=f.useCallback(E=>{E!==R.current&&(R.current=E,m(E))},[]),x=f.useCallback(E=>{E!==S.current&&(S.current=E,b(E))},[]),w=i||h,C=l||g,R=f.useRef(null),S=f.useRef(null),A=f.useRef(d),N=a!=null,D=Ht(a),F=Ht(r),z=f.useCallback(()=>{if(!R.current||!S.current)return;const E={placement:n,strategy:t,middleware:v};F.current&&(E.platform=F.current),zr(R.current,S.current,E).then(H=>{const $={...H,isPositioned:!0};k.current&&!Ue(A.current,$)&&(A.current=$,J.flushSync(()=>{p($)}))})},[v,n,t,F]);ze(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,p(E=>({...E,isPositioned:!1})))},[c]);const k=f.useRef(!1);ze(()=>(k.current=!0,()=>{k.current=!1}),[]),ze(()=>{if(w&&(R.current=w),C&&(S.current=C),w&&C){if(D.current)return D.current(w,C,z);z()}},[w,C,z,D,N]);const O=f.useMemo(()=>({reference:R,floating:S,setReference:y,setFloating:x}),[y,x]),L=f.useMemo(()=>({reference:w,floating:C}),[w,C]),B=f.useMemo(()=>{const E={position:t,left:0,top:0};if(!L.floating)return E;const H=Dt(L.floating,d.x),$=Dt(L.floating,d.y);return s?{...E,transform:"translate("+H+"px, "+$+"px)",...Tn(L.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:H,top:$}},[t,s,L.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:z,refs:O,elements:L,floatingStyles:B}),[d,z,O,L,B])}const Sn=(e,n)=>({...kr(e),options:[e,n]}),Br=(e,n)=>({...Dr(e),options:[e,n]}),Wr=(e,n)=>({...Hr(e),options:[e,n]}),jr=(e,n)=>({..._r(e),options:[e,n]}),$n={...kn},Vr=$n.useInsertionEffect,Kr=Vr||(e=>e());function On(e){const n=f.useRef(()=>{});return Kr(()=>{n.current=e}),f.useCallback(function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n.current==null?void 0:n.current(...o)},[])}var ft=typeof document<"u"?f.useLayoutEffect:f.useEffect;let _t=!1,Ur=0;const zt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Ur++;function Yr(){const[e,n]=f.useState(()=>_t?zt():void 0);return ft(()=>{e==null&&n(zt())},[]),f.useEffect(()=>{_t=!0},[]),e}const Gr=$n.useId,qr=Gr||Yr;function Xr(){const e=new Map;return{emit(n,t){var o;(o=e.get(n))==null||o.forEach(r=>r(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var o;e.set(n,((o=e.get(n))==null?void 0:o.filter(r=>r!==t))||[])}}}const Jr=f.createContext(null),Qr=f.createContext(null),Zr=()=>{var e;return((e=f.useContext(Jr))==null?void 0:e.id)||null},ei=()=>f.useContext(Qr);function ti(e){const{open:n=!1,onOpenChange:t,elements:o}=e,r=qr(),i=f.useRef({}),[l]=f.useState(()=>Xr()),s=Zr()!=null,[a,c]=f.useState(o.reference),d=On((u,h,m)=>{i.current.openEvent=u?h:void 0,l.emit("openchange",{open:u,event:h,reason:m,nested:s}),t==null||t(u,h,m)}),p=f.useMemo(()=>({setPositionReference:c}),[]),v=f.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return f.useMemo(()=>({dataRef:i,open:n,onOpenChange:d,elements:v,events:l,floatingId:r,refs:p}),[n,d,v,l,r,p])}function ni(e){e===void 0&&(e={});const{nodeId:n}=e,t=ti({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||t,r=o.elements,[i,l]=f.useState(null),[s,a]=f.useState(null),d=(r==null?void 0:r.reference)||i,p=f.useRef(null),v=ei();ft(()=>{d&&(p.current=d)},[d]);const u=Nr({...e,elements:{...r,...s&&{reference:s}}}),h=f.useCallback(x=>{const w=Y(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;a(w),u.refs.setReference(w)},[u.refs]),m=f.useCallback(x=>{(Y(x)||x===null)&&(p.current=x,l(x)),(Y(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!Y(x))&&u.refs.setReference(x)},[u.refs]),g=f.useMemo(()=>({...u.refs,setReference:m,setPositionReference:h,domReference:p}),[u.refs,m,h]),b=f.useMemo(()=>({...u.elements,domReference:d}),[u.elements,d]),y=f.useMemo(()=>({...u,...o,refs:g,elements:b,nodeId:n}),[u,g,b,n,o]);return ft(()=>{o.dataRef.current.floatingContext=y;const x=v==null?void 0:v.nodesRef.current.find(w=>w.id===n);x&&(x.context=y)}),f.useMemo(()=>({...u,context:y,refs:g,elements:b}),[u,g,b,y])}const Nt="active",Bt="selected";function ot(e,n,t){const o=new Map,r=t==="item";let i=e;if(r&&e){const{[Nt]:l,[Bt]:s,...a}=e;i=a}return{...t==="floating"&&{tabIndex:-1},...i,...n.map(l=>{const s=l?l[t]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((l,s)=>(s&&Object.entries(s).forEach(a=>{let[c,d]=a;if(!(r&&[Nt,Bt].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof d=="function"){var p;(p=o.get(c))==null||p.push(d),l[c]=function(){for(var v,u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];return(v=o.get(c))==null?void 0:v.map(g=>g(...h)).find(g=>g!==void 0)}}}else l[c]=d}),l),{})}}function oi(e){e===void 0&&(e=[]);const n=e.map(s=>s==null?void 0:s.reference),t=e.map(s=>s==null?void 0:s.floating),o=e.map(s=>s==null?void 0:s.item),r=f.useCallback(s=>ot(s,e,"reference"),n),i=f.useCallback(s=>ot(s,e,"floating"),t),l=f.useCallback(s=>ot(s,e,"item"),o);return f.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:l}),[r,i,l])}function Wt(e,n){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:n}}}}const ri=e=>({name:"inner",options:e,async fn(n){const{listRef:t,overflowRef:o,onFallbackChange:r,offset:i=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:c,...d}=Ce(e,n),{rects:p,elements:{floating:v}}=n,u=t.current[l];if(!u)return{};const h={...n,...await Sn(-u.offsetTop-v.clientTop-p.reference.height/2-u.offsetHeight/2-i).fn(n)},m=(c==null?void 0:c.current)||v,g=await nt(Wt(h,m.scrollHeight),d),b=await nt(h,{...d,elementContext:"reference"}),y=Math.max(0,g.top),x=h.y+y,w=Math.max(0,m.scrollHeight-y-Math.max(0,g.bottom));return m.style.maxHeight=w+"px",m.scrollTop=y,r&&(m.offsetHeight<u.offsetHeight*Math.min(s,t.current.length-1)-1||b.top>=-a||b.bottom>=-a?J.flushSync(()=>r(!0)):J.flushSync(()=>r(!1))),o&&(o.current=await nt(Wt({...h,y:x},m.offsetHeight),d)),{y:x}}});function ii(e,n){const{open:t,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:l,onChange:s}=n,a=On(s),c=f.useRef(!1),d=f.useRef(null),p=f.useRef(null);f.useEffect(()=>{if(!r)return;function u(m){if(m.ctrlKey||!h||i.current==null)return;const g=m.deltaY,b=i.current.top>=-.5,y=i.current.bottom>=-.5,x=h.scrollHeight-h.clientHeight,w=g<0?-1:1,C=g<0?"max":"min";h.scrollHeight<=h.clientHeight||(!b&&g>0||!y&&g<0?(m.preventDefault(),J.flushSync(()=>{a(R=>R+Math[C](g,x*w))})):/firefox/i.test(rr())&&(h.scrollTop+=g))}const h=(l==null?void 0:l.current)||o.floating;if(t&&h)return h.addEventListener("wheel",u),requestAnimationFrame(()=>{d.current=h.scrollTop,i.current!=null&&(p.current={...i.current})}),()=>{d.current=null,p.current=null,h.removeEventListener("wheel",u)}},[r,t,o.floating,i,l,a]);const v=f.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=(l==null?void 0:l.current)||o.floating;if(!(!i.current||!u||!c.current)){if(d.current!==null){const h=u.scrollTop-d.current;(i.current.bottom<-.5&&h<-1||i.current.top<-.5&&h>1)&&J.flushSync(()=>a(m=>m+h))}requestAnimationFrame(()=>{d.current=u.scrollTop})}}}),[o.floating,a,i,l]);return f.useMemo(()=>r?{floating:v}:{},[r,v])}let ke=f.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});ke.displayName="FloatingContext";let bt=f.createContext(null);bt.displayName="PlacementContext";function si(e){return f.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function li(){return f.useContext(ke).setReference}function ai(){let{getFloatingProps:e,slot:n}=f.useContext(ke);return f.useCallback((...t)=>Object.assign({},e(...t),{"data-anchor":n.anchor}),[e,n])}function ui(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let n=f.useContext(bt),t=f.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(r,i)=>i instanceof HTMLElement?i.outerHTML:i:void 0)]);K(()=>{n==null||n(t??null)},[n,t]);let o=f.useContext(ke);return f.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let jt=4;function ci({children:e,enabled:n=!0}){let[t,o]=f.useState(null),[r,i]=f.useState(0),l=f.useRef(null),[s,a]=f.useState(null);fi(s);let c=n&&t!==null&&s!==null,{to:d="bottom",gap:p=0,offset:v=0,padding:u=0,inner:h}=di(t,s),[m,g="center"]=d.split(" ");K(()=>{c&&i(0)},[c]);let{refs:b,floatingStyles:y,context:x}=ni({open:c,placement:m==="selection"?g==="center"?"bottom":`bottom-${g}`:g==="center"?`${m}`:`${m}-${g}`,strategy:"absolute",transform:!1,middleware:[Sn({mainAxis:m==="selection"?0:p,crossAxis:v}),Br({padding:u}),m!=="selection"&&Wr({padding:u}),m==="selection"&&h?ri({...h,padding:u,overflowRef:l,offset:r,minItemsVisible:jt,referenceOverflowThreshold:u,onFallbackChange(F){var z,k;if(!F)return;let O=x.elements.floating;if(!O)return;let L=parseFloat(getComputedStyle(O).scrollPaddingBottom)||0,B=Math.min(jt,O.childElementCount),E=0,H=0;for(let $ of(k=(z=x.elements.floating)==null?void 0:z.childNodes)!=null?k:[])if($ instanceof HTMLElement){let Z=$.offsetTop,ge=Z+$.clientHeight+L,T=O.scrollTop,G=T+O.clientHeight;if(Z>=T&&ge<=G)B--;else{H=Math.max(0,Math.min(ge,G)-Math.max(Z,T)),E=$.clientHeight;break}}B>=1&&i($=>{let Z=E*B-H+L;return $>=Z?$:Z})}}):null,jr({padding:u,apply({availableWidth:F,availableHeight:z,elements:k}){Object.assign(k.floating.style,{overflow:"auto",maxWidth:`${F}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:Ar}),[w=m,C=g]=x.placement.split("-");m==="selection"&&(w="selection");let R=f.useMemo(()=>({anchor:[w,C].filter(Boolean).join(" ")}),[w,C]),S=ii(x,{overflowRef:l,onChange:i}),{getReferenceProps:A,getFloatingProps:N}=oi([S]),D=M(F=>{a(F),b.setFloating(F)});return f.createElement(bt.Provider,{value:o},f.createElement(ke.Provider,{value:{setFloating:D,setReference:b.setReference,styles:y,getReferenceProps:A,getFloatingProps:N,slot:R}},e))}function fi(e){K(()=>{if(!e)return;let n=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,o=parseFloat(t);if(isNaN(o))return;let r=parseInt(t);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return n.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{n.disconnect()}},[e])}function di(e,n){var t,o,r;let i=rt((t=e==null?void 0:e.gap)!=null?t:"var(--anchor-gap, 0)",n),l=rt((o=e==null?void 0:e.offset)!=null?o:"var(--anchor-offset, 0)",n),s=rt((r=e==null?void 0:e.padding)!=null?r:"var(--anchor-padding, 0)",n);return{...e,gap:i,offset:l,padding:s}}function rt(e,n,t=void 0){let o=Ye(),r=M((a,c)=>{if(a==null)return[t,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!c)return[t,null];let d=Vt(a,c);return[d,p=>{let v=Mn(a);{let u=v.map(h=>window.getComputedStyle(c).getPropertyValue(h));o.requestAnimationFrame(function h(){o.nextFrame(h);let m=!1;for(let[b,y]of v.entries()){let x=window.getComputedStyle(c).getPropertyValue(y);if(u[b]!==x){u[b]=x,m=!0;break}}if(!m)return;let g=Vt(a,c);d!==g&&(p(g),d=g)})}return o.dispose}]}return[t,null]}),i=f.useMemo(()=>r(e,n)[0],[e,n]),[l=i,s]=f.useState();return K(()=>{let[a,c]=r(e,n);if(s(a),!!c)return c(s)},[e,n]),l}function Mn(e){let n=/var\((.*)\)/.exec(e);if(n){let t=n[1].indexOf(",");if(t===-1)return[n[1]];let o=n[1].slice(0,t).trim(),r=n[1].slice(t+1).trim();return r?[o,...Mn(r)]:[o]}return[]}function Vt(e,n){let t=document.createElement("div");n.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(t).marginTop)||0;return n.removeChild(t),o}function pi({children:e,freeze:n}){let t=dt(n,e);return P.createElement(P.Fragment,null,t)}function dt(e,n){let[t,o]=f.useState(n);return!e&&t!==n&&o(n),e?t:n}function mi(e){throw new Error("Unexpected object: "+e)}var j=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(j||{});function Kt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 1:{r===-1&&(r=t.length);for(let i=r-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 2:{for(let i=r+1;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 3:{for(let i=t.length-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return o}case 4:{for(let i=0;i<t.length;++i)if(n.resolveId(t[i],i,t)===e.id)return i;return o}case 5:return null;default:mi(e)}}var xt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(xt||{}),hi={},gi=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gi||{}),vi=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(vi||{}),bi=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(bi||{}),xi=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e))(xi||{});function it(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=n(e.options.slice()),r=o.length>0&&o[0].dataRef.current.order!==null?o.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):jn(o,l=>l.dataRef.current.domRef.current),i=t?r.indexOf(t):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let yi={1(e){var n;return(n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var n,t;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let o=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(o!==-1)return{...e,activeOptionIndex:o,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,n){return e.isTyping===n.isTyping?e:{...e,isTyping:n.isTyping}},2(e,n){var t,o,r,i,l;if((t=e.dataRef.current)!=null&&t.disabled||(o=e.dataRef.current)!=null&&o.optionsRef.current&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:d,disabled:p}=e.virtual,v=n.focus===j.Specific?n.idx:Kt(n,{resolveItems:()=>d,resolveActiveIndex:()=>{var h,m;return(m=(h=e.activeOptionIndex)!=null?h:d.findIndex(g=>!p(g)))!=null?m:null},resolveDisabled:p,resolveId(){throw new Error("Function not implemented.")}}),u=(i=n.trigger)!=null?i:2;return e.activeOptionIndex===v&&e.activationTrigger===u?e:{...e,activeOptionIndex:v,activationTrigger:u,isTyping:!1,__demoMode:!1}}let s=it(e);if(s.activeOptionIndex===null){let d=s.options.findIndex(p=>!p.dataRef.current.disabled);d!==-1&&(s.activeOptionIndex=d)}let a=n.focus===j.Specific?n.idx:Kt(n,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),c=(l=n.trigger)!=null?l:2;return e.activeOptionIndex===a&&e.activationTrigger===c?e:{...e,...s,isTyping:!1,activeOptionIndex:a,activationTrigger:c,__demoMode:!1}},4:(e,n)=>{var t,o,r;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,n.payload]};let i=n.payload,l=it(e,a=>(a.push(i),a));e.activeOptionIndex===null&&(o=e.dataRef.current)!=null&&o.isSelected(n.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(i));let s={...e,...l,activationTrigger:2};return(r=e.dataRef.current)!=null&&r.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,n)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(r=>r.id!==n.id)};let o=it(e,r=>{let i=r.findIndex(l=>l.id===n.id);return i!==-1&&r.splice(i,1),r});return{...e,...o,activationTrigger:2}},6:(e,n)=>e.activationTrigger===n.trigger?e:{...e,activationTrigger:n.trigger},7:(e,n)=>{var t,o;if(e.virtual===null)return{...e,virtual:{options:n.options,disabled:(t=n.disabled)!=null?t:()=>!1}};if(e.virtual.options===n.options&&e.virtual.disabled===n.disabled)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=n.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?r=i:r=null}return{...e,activeOptionIndex:r,virtual:{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}}}},yt=f.createContext(null);yt.displayName="ComboboxActionsContext";function De(e){let n=f.useContext(yt);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,De),t}return n}let In=f.createContext(null);function wi(e){let n=Re("VirtualProvider"),{options:t}=n.virtual,[o,r]=f.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let d=window.getComputedStyle(c);return[parseFloat(d.paddingBlockStart||d.paddingTop),parseFloat(d.paddingBlockEnd||d.paddingBottom)]},[n.optionsRef.current]),i=qo({enabled:t.length!==0,scrollPaddingStart:o,scrollPaddingEnd:r,count:t.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[l,s]=f.useState(0);K(()=>{s(c=>c+1)},[t]);let a=i.getVirtualItems();return a.length===0?null:P.createElement(In.Provider,{value:i},P.createElement("div",{style:{position:"relative",width:"100%",height:`${i.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&hi.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&t.length>n.activeOptionIndex&&i.scrollToIndex(n.activeOptionIndex)}}},a.map(c=>{var d;return P.createElement(f.Fragment,{key:c.key},P.cloneElement((d=e.children)==null?void 0:d.call(e,{...e.slot,option:t[c.index]}),{key:`${l}-${c.key}`,"data-index":c.index,"aria-setsize":t.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Me=f.createContext(null);Me.displayName="ComboboxDataContext";function Re(e){let n=f.useContext(Me);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Re),t}return n}function Ei(e,n){return ve(n.type,yi,e,n)}let Ci=f.Fragment;function Ri(e,n){var t,o;let r=qt(),{value:i,defaultValue:l,onChange:s,form:a,name:c,by:d,disabled:p=r||!1,onClose:v,__demoMode:u=!1,multiple:h=!1,immediate:m=!1,virtual:g=null,nullable:b,...y}=e,x=Co(l),[w=h?[]:void 0,C]=Eo(i,s,x),[R,S]=f.useReducer(Ei,{dataRef:f.createRef(),comboboxState:u?0:1,isTyping:!1,options:[],virtual:g?{options:g.options,disabled:(t=g.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,__demoMode:u}),A=f.useRef(!1),N=f.useRef({static:!1,hold:!1}),D=f.useRef(null),F=f.useRef(null),z=f.useRef(null),k=Jo(d),O=M(I=>g?d===null?g.options.indexOf(I):g.options.findIndex(_=>k(_,I)):R.options.findIndex(_=>k(_.dataRef.current.value,I))),L=f.useCallback(I=>ve(E.mode,{1:()=>w.some(_=>k(_,I)),0:()=>k(w,I)}),[w]),B=M(I=>R.activeOptionIndex===O(I)),E=f.useMemo(()=>({...R,immediate:m,optionsPropsRef:N,inputRef:D,buttonRef:F,optionsRef:z,value:w,defaultValue:x,disabled:p,mode:h?1:0,virtual:g?R.virtual:null,get activeOptionIndex(){if(A.current&&R.activeOptionIndex===null&&(g?g.options.length>0:R.options.length>0)){if(g){let _=g.options.findIndex(ie=>{var He,wt;return!((wt=(He=g.disabled)==null?void 0:He.call(g,ie))!=null&&wt)});if(_!==-1)return _}let I=R.options.findIndex(_=>!_.dataRef.current.disabled);if(I!==-1)return I}return R.activeOptionIndex},calculateIndex:O,compare:k,isSelected:L,isActive:B}),[w,x,p,h,u,R,g]);K(()=>{var I;g&&S({type:7,options:g.options,disabled:(I=g.disabled)!=null?I:null})},[g,g==null?void 0:g.options,g==null?void 0:g.disabled]),K(()=>{R.dataRef.current=E},[E]);let H=E.comboboxState===0;Hn(H,[E.buttonRef,E.inputRef,E.optionsRef],()=>re.closeCombobox());let $=f.useMemo(()=>{var I,_,ie;return{open:E.comboboxState===0,disabled:p,activeIndex:E.activeOptionIndex,activeOption:E.activeOptionIndex===null?null:E.virtual?E.virtual.options[(I=E.activeOptionIndex)!=null?I:0]:(ie=(_=E.options[E.activeOptionIndex])==null?void 0:_.dataRef.current.value)!=null?ie:null,value:w}},[E,p,w]),Z=M(()=>{if(E.activeOptionIndex!==null){if(re.setIsTyping(!1),E.virtual)W(E.virtual.options[E.activeOptionIndex]);else{let{dataRef:I}=E.options[E.activeOptionIndex];W(I.current.value)}re.goToOption(j.Specific,E.activeOptionIndex)}}),ge=M(()=>{S({type:0}),A.current=!0}),T=M(()=>{S({type:1}),A.current=!1,v==null||v()}),G=M(I=>{S({type:3,isTyping:I})}),V=M((I,_,ie)=>(A.current=!1,I===j.Specific?S({type:2,focus:j.Specific,idx:_,trigger:ie}):S({type:2,focus:I,trigger:ie}))),ne=M((I,_)=>(S({type:4,payload:{id:I,dataRef:_}}),()=>{E.isActive(_.current.value)&&(A.current=!0),S({type:5,id:I})})),W=M(I=>ve(E.mode,{0(){return C==null?void 0:C(I)},1(){let _=E.value.slice(),ie=_.findIndex(He=>k(He,I));return ie===-1?_.push(I):_.splice(ie,1),C==null?void 0:C(_)}})),ee=M(I=>{S({type:6,trigger:I})}),re=f.useMemo(()=>({onChange:W,registerOption:ne,goToOption:V,setIsTyping:G,closeCombobox:T,openCombobox:ge,setActivationTrigger:ee,selectActiveOption:Z}),[]),[Fn,Pn]=Fo(),Ln=n===null?{}:{ref:n},An=f.useCallback(()=>{if(x!==void 0)return C==null?void 0:C(x)},[C,x]);return P.createElement(Pn,{value:Fn,props:{htmlFor:(o=E.inputRef.current)==null?void 0:o.id},slot:{open:E.comboboxState===0,disabled:p}},P.createElement(ci,null,P.createElement(yt.Provider,{value:re},P.createElement(Me.Provider,{value:E},P.createElement(Kn,{value:ve(E.comboboxState,{0:Ne.Open,1:Ne.Closed})},c!=null&&P.createElement(So,{disabled:p,data:w!=null?{[c]:w}:{},form:a,onReset:An}),we({ourProps:Ln,theirProps:y,slot:$,defaultTag:Ci,name:"Combobox"}))))))}let Ti="input";function Si(e,n){var t,o,r,i,l;let s=Re("Combobox.Input"),a=De("Combobox.Input"),c=f.useId(),d=fn(),{id:p=d||`headlessui-combobox-input-${c}`,onChange:v,displayValue:u,disabled:h=s.disabled||!1,autoFocus:m=!1,type:g="text",...b}=e,y=Ie(s.inputRef,n,li()),x=Xt(s.inputRef),w=Ye(),C=M(()=>{a.onChange(null),s.optionsRef.current&&(s.optionsRef.current.scrollTop=0),a.goToOption(j.Nothing)}),R=f.useMemo(()=>{var T;return typeof u=="function"&&s.value!==void 0?(T=u(s.value))!=null?T:"":typeof s.value=="string"?s.value:""},[s.value,u]);Et(([T,G],[V,ne])=>{if(s.isTyping)return;let W=s.inputRef.current;W&&((ne===0&&G===1||T!==V)&&(W.value=T),requestAnimationFrame(()=>{if(s.isTyping||!W||(x==null?void 0:x.activeElement)!==W)return;let{selectionStart:ee,selectionEnd:re}=W;Math.abs((re??0)-(ee??0))===0&&ee===0&&W.setSelectionRange(W.value.length,W.value.length)}))},[R,s.comboboxState,x,s.isTyping]),Et(([T],[G])=>{if(T===0&&G===1){if(s.isTyping)return;let V=s.inputRef.current;if(!V)return;let ne=V.value,{selectionStart:W,selectionEnd:ee,selectionDirection:re}=V;V.value="",V.value=ne,re!==null?V.setSelectionRange(W,ee,re):V.setSelectionRange(W,ee)}},[s.comboboxState]);let S=f.useRef(!1),A=M(()=>{S.current=!0}),N=M(()=>{w.nextFrame(()=>{S.current=!1})}),D=M(T=>{switch(a.setIsTyping(!0),T.key){case q.Enter:if(s.comboboxState!==0||S.current)return;if(T.preventDefault(),T.stopPropagation(),s.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),s.mode===0&&a.closeCombobox();break;case q.ArrowDown:return T.preventDefault(),T.stopPropagation(),ve(s.comboboxState,{0:()=>a.goToOption(j.Next),1:()=>a.openCombobox()});case q.ArrowUp:return T.preventDefault(),T.stopPropagation(),ve(s.comboboxState,{0:()=>a.goToOption(j.Previous),1:()=>{J.flushSync(()=>a.openCombobox()),s.value||a.goToOption(j.Last)}});case q.Home:if(T.shiftKey)break;return T.preventDefault(),T.stopPropagation(),a.goToOption(j.First);case q.PageUp:return T.preventDefault(),T.stopPropagation(),a.goToOption(j.First);case q.End:if(T.shiftKey)break;return T.preventDefault(),T.stopPropagation(),a.goToOption(j.Last);case q.PageDown:return T.preventDefault(),T.stopPropagation(),a.goToOption(j.Last);case q.Escape:return s.comboboxState!==0?void 0:(T.preventDefault(),s.optionsRef.current&&!s.optionsPropsRef.current.static&&T.stopPropagation(),s.mode===0&&s.value===null&&C(),a.closeCombobox());case q.Tab:if(s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),F=M(T=>{v==null||v(T),s.mode===0&&T.target.value===""&&C(),a.openCombobox()}),z=M(T=>{var G,V,ne;let W=(G=T.relatedTarget)!=null?G:Ct.find(ee=>ee!==T.currentTarget);if(!((V=s.optionsRef.current)!=null&&V.contains(W))&&!((ne=s.buttonRef.current)!=null&&ne.contains(W))&&s.comboboxState===0)return T.preventDefault(),s.mode===0&&s.value===null&&C(),a.closeCombobox()}),k=M(T=>{var G,V,ne;let W=(G=T.relatedTarget)!=null?G:Ct.find(ee=>ee!==T.currentTarget);(V=s.buttonRef.current)!=null&&V.contains(W)||(ne=s.optionsRef.current)!=null&&ne.contains(W)||s.disabled||s.immediate&&s.comboboxState!==0&&w.microTask(()=>{J.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),O=qe(),L=_n(),{isFocused:B,focusProps:E}=ln({autoFocus:m}),{isHovered:H,hoverProps:$}=sn({isDisabled:h}),Z=f.useMemo(()=>({open:s.comboboxState===0,disabled:h,hover:H,focus:B,autofocus:m}),[s,H,B,m,h]),ge=pt({ref:y,id:p,role:"combobox",type:g,"aria-controls":(t=s.optionsRef.current)==null?void 0:t.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(o=s.options.find(T=>!T.dataRef.current.disabled&&s.compare(T.dataRef.current.value,s.virtual.options[s.activeOptionIndex])))==null?void 0:o.id:(r=s.options[s.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":O,"aria-describedby":L,"aria-autocomplete":"list",defaultValue:(l=(i=e.defaultValue)!=null?i:s.defaultValue!==void 0?u==null?void 0:u(s.defaultValue):null)!=null?l:s.defaultValue,disabled:h||void 0,autoFocus:m,onCompositionStart:A,onCompositionEnd:N,onKeyDown:D,onChange:F,onFocus:k,onBlur:z},E,$);return we({ourProps:ge,theirProps:b,slot:Z,defaultTag:Ti,name:"Combobox.Input"})}let $i="button";function Oi(e,n){var t;let o=Re("Combobox.Button"),r=De("Combobox.Button"),i=Ie(o.buttonRef,n),l=f.useId(),{id:s=`headlessui-combobox-button-${l}`,disabled:a=o.disabled||!1,autoFocus:c=!1,...d}=e,p=mn(o.inputRef),v=M(S=>{switch(S.key){case q.Space:case q.Enter:S.preventDefault(),S.stopPropagation(),o.comboboxState===1&&J.flushSync(()=>r.openCombobox()),p();return;case q.ArrowDown:S.preventDefault(),S.stopPropagation(),o.comboboxState===1&&(J.flushSync(()=>r.openCombobox()),o.value||r.goToOption(j.First)),p();return;case q.ArrowUp:S.preventDefault(),S.stopPropagation(),o.comboboxState===1&&(J.flushSync(()=>r.openCombobox()),o.value||r.goToOption(j.Last)),p();return;case q.Escape:if(o.comboboxState!==0)return;S.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&S.stopPropagation(),J.flushSync(()=>r.closeCombobox()),p();return;default:return}}),u=M(S=>{S.preventDefault(),!Mo(S.currentTarget)&&(S.button===xt.Left&&(o.comboboxState===0?r.closeCombobox():r.openCombobox()),p())}),h=qe([s]),{isFocusVisible:m,focusProps:g}=ln({autoFocus:c}),{isHovered:b,hoverProps:y}=sn({isDisabled:a}),{pressed:x,pressProps:w}=wo({disabled:a}),C=f.useMemo(()=>({open:o.comboboxState===0,active:x||o.comboboxState===0,disabled:a,value:o.value,hover:b,focus:m}),[o,b,m,x,a]),R=pt({ref:i,id:s,type:Zo(e,o.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=o.optionsRef.current)==null?void 0:t.id,"aria-expanded":o.comboboxState===0,"aria-labelledby":h,disabled:a||void 0,autoFocus:c,onMouseDown:u,onKeyDown:v},g,y,w);return we({ourProps:R,theirProps:d,slot:C,defaultTag:$i,name:"Combobox.Button"})}let Mi="div",Ii=Rt.RenderStrategy|Rt.Static;function Fi(e,n){var t,o,r;let i=f.useId(),{id:l=`headlessui-combobox-options-${i}`,hold:s=!1,anchor:a,portal:c=!1,modal:d=!0,transition:p=!1,...v}=e,u=Re("Combobox.Options"),h=De("Combobox.Options"),m=si(a);m&&(c=!0);let[g,b]=ui(m),y=ai(),x=Ie(u.optionsRef,n,m?g:null),w=Xt(u.optionsRef),C=Un(),[R,S]=Yn(p,u.optionsRef,C!==null?(C&Ne.Open)===Ne.Open:u.comboboxState===0);Gn(R,u.inputRef,h.closeCombobox);let A=u.__demoMode?!1:d&&u.comboboxState===0;zn(A,w);let N=u.__demoMode?!1:d&&u.comboboxState===0;Nn(N,{allowed:M(()=>[u.inputRef.current,u.buttonRef.current,u.optionsRef.current])}),K(()=>{var $;u.optionsPropsRef.current.static=($=e.static)!=null?$:!1},[u.optionsPropsRef,e.static]),K(()=>{u.optionsPropsRef.current.hold=s},[u.optionsPropsRef,s]),tr(u.comboboxState===0,{container:u.optionsRef.current,accept($){return $.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let D=qe([(t=u.buttonRef.current)==null?void 0:t.id]),F=f.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u.comboboxState]),z=M(()=>{h.setActivationTrigger(0)}),k=M($=>{$.preventDefault(),h.setActivationTrigger(0)}),O=pt(m?y():{},{"aria-labelledby":D,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:l,ref:x,style:{...v.style,...b,"--input-width":Ot(u.inputRef,!0).width,"--button-width":Ot(u.buttonRef,!0).width},onWheel:u.activationTrigger===0?void 0:z,onMouseDown:k,...qn(S)}),L=R&&u.comboboxState===1,B=dt(L,(o=u.virtual)==null?void 0:o.options),E=dt(L,u.value),H=M($=>u.compare(E,$));if(u.virtual){if(B===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(v,{children:P.createElement(Me.Provider,{value:B!==u.virtual.options?{...u,virtual:{...u.virtual,options:B}}:u},P.createElement(wi,{slot:F},v.children))})}return P.createElement(Bn,{enabled:c?e.static||R:!1},P.createElement(Me.Provider,{value:u.mode===1?u:{...u,isSelected:H}},we({ourProps:O,theirProps:{...v,children:P.createElement(pi,{freeze:L},typeof v.children=="function"?(r=v.children)==null?void 0:r.call(v,F):v.children)},slot:F,defaultTag:Mi,features:Ii,visible:R,name:"Combobox.Options"})))}let Pi="div";function Li(e,n){var t,o,r,i;let l=Re("Combobox.Option"),s=De("Combobox.Option"),a=f.useId(),{id:c=`headlessui-combobox-option-${a}`,value:d,disabled:p=(r=(o=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:o.call(t,d))!=null?r:!1,order:v=null,...u}=e,h=mn(l.inputRef),m=l.virtual?l.activeOptionIndex===l.calculateIndex(d):l.activeOptionIndex===null?!1:((i=l.options[l.activeOptionIndex])==null?void 0:i.id)===c,g=l.isSelected(d),b=f.useRef(null),y=Xn({disabled:p,value:d,domRef:b,order:v}),x=f.useContext(In),w=Ie(n,b,x?x.measureElement:null),C=M(()=>{s.setIsTyping(!1),s.onChange(d)});K(()=>s.registerOption(c,y),[y,c]);let R=f.useRef(!(l.virtual||l.__demoMode));K(()=>{if(!l.virtual&&!l.__demoMode)return Tt().requestAnimationFrame(()=>{R.current=!0})},[l.virtual,l.__demoMode]),K(()=>{if(R.current&&l.comboboxState===0&&m&&l.activationTrigger!==0)return Tt().requestAnimationFrame(()=>{var O,L;(L=(O=b.current)==null?void 0:O.scrollIntoView)==null||L.call(O,{block:"nearest"})})},[b,m,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let S=M(O=>{O.preventDefault(),O.button===xt.Left&&(p||(C(),Wn()||requestAnimationFrame(()=>h()),l.mode===0&&s.closeCombobox()))}),A=M(()=>{if(p)return s.goToOption(j.Nothing);let O=l.calculateIndex(d);s.goToOption(j.Specific,O)}),N=er(),D=M(O=>N.update(O)),F=M(O=>{if(!N.wasMoved(O)||p||m)return;let L=l.calculateIndex(d);s.goToOption(j.Specific,L,0)}),z=M(O=>{N.wasMoved(O)&&(p||m&&(l.optionsPropsRef.current.hold||s.goToOption(j.Nothing)))}),k=f.useMemo(()=>({active:m,focus:m,selected:g,disabled:p}),[m,g,p]);return we({ourProps:{id:c,ref:w,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":g,disabled:void 0,onMouseDown:S,onFocus:A,onPointerEnter:D,onMouseEnter:D,onPointerMove:F,onMouseMove:F,onPointerLeave:z,onMouseLeave:z},theirProps:u,slot:k,defaultTag:Pi,name:"Combobox.Option"})}let Ai=ye(Ri),ki=ye(Oi),Di=ye(Si),Hi=ko,_i=ye(Fi),zi=ye(Li),Se=Object.assign(Ai,{Input:Di,Button:ki,Label:Hi,Options:_i,Option:zi});function Vi({value:e,onChange:n,defaultValue:t}){const[o,r]=f.useState(null),[i,l]=f.useState("");f.useEffect(()=>{o!==null&&n(o,"issue")},[o]),f.useEffect(()=>{t&&r(t)},[t]);const s=i===""?e:e.filter(d=>d.name.toLowerCase().replace(/\s+/g,"").includes(i.toLowerCase().replace(/\s+/g,""))),a=t.replace(/^\["/,"").replace(/"\]$/,""),c=e.find(d=>d.name===a);return U.jsx(Se,{value:c,onChange:r,children:U.jsxs("div",{className:"relative mt-1",children:[U.jsxs("div",{className:"peer text-black placeholder-transparent w-full py-1 px-5 border-gray-500 border bg-transparent rounded-sm bg-white focus-within:outline-none focus-within:border-blue-500",children:[U.jsx("div",{className:"grid grid-flow-row-dense grid-cols-4 "}),U.jsx(Se.Input,{className:"w-[75vw] border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:d=>(d==null?void 0:d.name)||"",onChange:d=>l(d.target.value)}),U.jsx(Se.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:U.jsx(to,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),U.jsx(Jn,{as:f.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>l(""),children:U.jsx(Se.Options,{className:"absolute relative mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:s.length===0&&i!==""?U.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):s.map((d,p)=>U.jsx(Se.Option,{className:({active:v})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${v?"bg-blue-600 text-white":"text-gray-900"}`,value:d,children:({selected:v,active:u})=>U.jsxs(U.Fragment,{children:[U.jsx("span",{className:`block truncate ${v?"font-medium":"font-normal"}`,children:d.name}),v?U.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${u?"text-white":"text-blue-600"}`,children:U.jsx(Zn,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},p))})})]})})}export{Vi as A};
