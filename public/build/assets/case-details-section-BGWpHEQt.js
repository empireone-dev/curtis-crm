import{r as l,j as t,y as c}from"./page-DYpLzGDn.js";import{t as x}from"./tickets-service-VRTsO9LG.js";import{u as d}from"./app-Bngk0muX.js";import{B as _}from"./button-DpuTG-UI.js";import"./index-DaPaTlHv.js";import"./asyncToGenerator-C4ZkcmSA.js";import"./compact-item-F-iihlo1.js";import"./render-DDfW_aRt.js";function D({datas:i}){const{users:n,customer_details_logs:y}=d(e=>e.users),{user:s}=d(e=>e.app),[r,u]=l.useState({}),m=window.location.pathname.split("/")[4],[p,f]=l.useState(!1);async function g(e){var o;f(!0);const a={...r,ticket_id:m,transfer_from:s.id,transfer_to:r.user_id,message:""};await x(a),(o=i==null?void 0:i.receipt)!=null&&o.user_id?c.visit(`/administrator/productivity/${i.receipt.user_id}?page=1&search=over_due`):c.visit("/administrator/productivity")}return t.jsxs("div",{children:[t.jsx("div",{class:"text-gray-600 mb-2",children:t.jsx("p",{class:"font-medium text-lg",children:"Case Details"})}),t.jsxs("div",{class:"md:col-span-5 mt-3",children:[t.jsx("label",{children:"Reassigned to"}),t.jsxs("select",{onChange:e=>u({...r,user_id:e.target.value}),id:"countries",class:"bg-gray-50 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",children:[t.jsx("option",{disabled:!0,selected:!0,children:"Select"}),n.map((e,a)=>e.id!==s.id&&e.agent_type==="Warranty"&&e.role_id!=1?t.jsx("option",{value:e.id,children:e.name},e.id):null),n.map((e,a)=>e.id!==s.id&&e.agent_type==="Parts"&&e.role_id!=1?t.jsx("option",{value:e.id,children:e.name},e.id):null)]})]}),t.jsx(_,{loading:p,onClick:()=>g(),type:"primary",className:"my-3 w-full",danger:!0,children:"Reassign"})]})}export{D as default};
