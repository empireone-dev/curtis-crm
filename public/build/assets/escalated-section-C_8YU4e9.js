import{r,q as m,j as e,s as u,z as h,A as x}from"./page-DYpLzGDn.js";import{L as g}from"./loading-CR1FM5vD.js";import{g as j}from"./customer-tickets-thunk-Dssa7rza.js";import{k as _,g as b}from"./tickets-service-VRTsO9LG.js";import{a as k}from"./app-DxsYkJOn.js";import"./files-service-CktvOCr8.js";import"./index-DaPaTlHv.js";function A({data:t}){const[n,s]=r.useState(!1),[a,c]=r.useState(!1),o=k(),{url:l}=m();r.useEffect(()=>{a&&setTimeout(()=>{c(!1)},[2e3])},[a]);async function f(w){s(!0);try{await _(t),s(!1),c(!0);const i=l.split("/")[l.split("/").length-2].split("#")[0],p=await u.dispatch(j(i)),d=await b(i);o(h(d)),o(x(p))}catch{s(!1)}}return e.jsx("div",{children:e.jsx("button",{onClick:f,className:`${t.isEscalated?"bg-green-800 p-2 text-white  hover:bg-green-900":" bg-red-800 p-2 text-white  hover:bg-red-900"} flex items-center justify-center w-64`,children:n?e.jsx("div",{className:"py-2",children:e.jsx(g,{})}):e.jsx("div",{className:"p-1 w-full flex items-center justify-center",children:a?e.jsx("div",{className:"text-white uppercase text-xs py-1",children:"The casefile has been escalated."}):"ESCALATE"+(t.isEscalated?"D":"")})})})}export{A as default};
