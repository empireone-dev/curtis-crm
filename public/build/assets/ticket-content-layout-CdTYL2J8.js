import{q as x,r as n,j as s,s as A,z as R,A as b,y as E}from"./page-CHd1tz-i.js";import{g as y}from"./customer-tickets-thunk-D0YwMkK9.js";import{u as p,a as T}from"./app-BjrFVU3M.js";import{g as N}from"./tickets-service-CAgRt2C0.js";import{S}from"./skeleton-Cwhd3Tf7.js";import U from"./tickets-details-move-assign-section_-CpYkNHd7.js";import{F as _}from"./TicketIcon-C4I-fxCm.js";import"./files-service-hcNp0RA9.js";import"./index-BHPCq0XP.js";import"./tickets-details-move-assign-components-dh_PoSUK.js";import"./tickets-thunk-DCWQTKs5.js";import"./activities-service-BaJCmKbj.js";import"./internals-service-B9kSbxh_.js";import"./loading-DyyMK9hR.js";import"./routing-BzgBYGmF.js";import"./InboxStackIcon-BKcsy4ie.js";import"./WrenchScrewdriverIcon-BLu7mnhx.js";import"./BanknotesIcon-DfbC149X.js";import"./ArrowsRightLeftIcon-BHnKHGK-.js";import"./CheckBadgeIcon-CKF6kegN.js";function Q({children:h}){const{ticket:t}=p(a=>a.tickets),{user:u}=p(a=>a.app),{url:i}=x(),l=T(),[d,r]=n.useState(!0);n.useEffect(()=>{async function a(){try{const e=i.split("/")[i.split("/").length-2].split("#")[0],f=await A.dispatch(y(e)),g=await N(e);l(R(g)),l(b(f)),r(!1)}catch(e){r(!1),console.error("Error fetching data:",e)}}a()},[i,l]);const o=[...t.call_type!=="TS-Tech Support"?[{title:"Files",hash:"files"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.call_type==="CF-Warranty Claim"&&t.status==="WARRANTY VALIDATION"?[{title:"Warranty Validation",hash:"warranty_validation"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.call_type==="Parts"&&t.status==="PARTS VALIDATION"?[{title:"Parts Validation",hash:"parts_validation"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="RESOURCE"?[{title:"Decision Making",hash:"decision"}]:[],...(t==null?void 0:t.isUploading)==="true"&&(t.status==="CA WAREHOUSE"||t.status==="US WAREHOUSE")?[{title:t.country+" Warehouse",hash:"warehouse"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REPAIR"?[{title:"Repair",hash:"repair"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="RMA REQUEST"?[{title:"RMA Upload",hash:"rma_request"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="AVAILABILITY"?[{title:"Availability",hash:"availability"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="INTERNALS"?[{title:"Internals",hash:"internals"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="CALLBACK"?[{title:"Callback",hash:"callback"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REFUND"?[{title:"Refund",hash:"refund"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REPLACEMENT"?[{title:"Replacement",hash:"replacement"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REPLACEMENT PARTS"?[{title:"Replacement Parts",hash:"replacement_parts"}]:[],...t.call_type==="TS-Tech Support"&&t.status==="TECH VALIDATION"?[{title:"Update Status",hash:"status"}]:[],{title:"Activities",hash:"activities"},{title:"Details",hash:"details"},{title:"Agent Notes",hash:"notes"}],c=a=>{E.visit(o[a].hash)},m=window.location.pathname.split("/")[5];return s.jsxs("div",{className:"font-sans ",children:[s.jsxs("div",{className:"sticky top-0 bg-white z-10",children:[u.agent_type!=="CSR"&&s.jsx(U,{}),s.jsxs("div",{className:" px-8 text-3xl font-black text-red-600",children:["Case File : ",t.ticket_id??"N/A"," -- (",t.created_from,")"]}),s.jsxs("div",{className:"w-full px-8",children:[s.jsxs("div",{className:`py-3 text-3xl font-black flex gap-3 ${t.status==="CLOSED"?"text-red-600":"text-blue-600"}`,children:[s.jsx(_,{className:"h-9"})," ",t.status??"Open Ticket"," (",t.call_type,")"]}),s.jsx("div",{className:"mb-4 flex space-x-4 p-2 bg-white rounded-md border-blue-500 border-2 ",children:o.map((a,e)=>s.jsx("button",{onClick:()=>c(e),className:`flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300 ${m===a.hash?"bg-blue-600 text-white":"bg-gray-300 hover:bg-blue-200"}`,children:a.title},e))})]})]}),s.jsx("div",{className:"mx-8",children:d?s.jsx(S,{}):h})]})}export{Q as default};
