import{j as r}from"./page-BNpu25Vy.js";import{U as h}from"./index-BI2sgu9w.js";import{B as f}from"./button-CTMOoJJC.js";import{R as j}from"./UploadOutlined-CQU2hs8s.js";import"./asyncToGenerator-y2MD6EK_.js";import"./index-oSI6-JwC.js";import"./pickAttrs-RPHs8Lcg.js";import"./motion-DXIbP6aI.js";import"./compact-item-LZnqzSXy.js";import"./collapse-BbEVqHco.js";import"./useZIndex-BOlZ46cz.js";import"./fade-C3n7wJyI.js";import"./useForceUpdate-XwV0PwLd.js";import"./motion-4S5rSXvC.js";import"./DeleteOutlined-BwJD-I52.js";import"./EyeOutlined-DJNKto2k.js";import"./CheckCircleFilled-yDpF37j4.js";import"./CheckOutlined-BZZFPCFf.js";import"./index-B6OPcJ8H.js";import"./index-DPKLIzn_.js";import"./ContextIsolator-CkXzKCb2.js";import"./roundedArrow-BwnxkRYR.js";import"./zoom-4hUM78Wf.js";import"./useLocale-CAcQyQJe.js";import"./render-C8EwcgY9.js";function M({form:e,setForm:l}){var c,m,d,u;const s=(m=(c=e==null?void 0:e.dealer)==null?void 0:c.attachments1)==null?void 0:m.map((t,o)=>({uid:o,name:t.file,url:t.file,status:"done"})),x=(u=(d=e==null?void 0:e.dealer)==null?void 0:d.invoices1)==null?void 0:u.map((t,o)=>({uid:o,name:t.file,url:t.file,status:"done"}));console.log("formaaaa",s);function p(t){return new Promise((o,a)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>o(i.result),i.onerror=n=>a(n)})}function v(t){var a;const o=(a=t.fileList)==null?void 0:a.map(i=>{const n=i.originFileObj;return p(n)});Promise.all(o).then(i=>{l({...e,dealer:{...e.dealer,attachments:i}})}).catch(i=>{console.error("Error converting files:",i)})}function b(t){var a;const o=(a=t.fileList)==null?void 0:a.map(i=>{const n=i.originFileObj;return p(n)});Promise.all(o).then(i=>{l({...e,dealer:{...e.dealer,invoices:i}})}).catch(i=>{console.error("Error converting files:",i)})}return r.jsxs("div",{children:[r.jsx(h,{method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",listType:"picture",defaultFileList:s,multiple:!0,onChange:v,children:r.jsx(f,{type:"primary",icon:r.jsx(j,{}),children:"Upload Attachments"})}),r.jsx("br",{}),r.jsx(h,{method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",listType:"picture",multiple:!0,defaultFileList:x,onChange:b,children:r.jsx(f,{type:"primary",icon:r.jsx(j,{}),children:"Attach Invoice"})})]})}export{M as default};
