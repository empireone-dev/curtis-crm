import{r as h,j as e,y as r,s as n}from"./page-DdRUgAPm.js";import{u as o}from"./app-kJgzoYtZ.js";import{u as x}from"./tickets-thunk-MHUPRBdf.js";import j from"./reason-to-close-C_F6z0rM.js";import{r as u}from"./routing-BzgBYGmF.js";import f from"./move-ticket-assignement-FcScY_r7.js";import N from"./resend-initial-email-n6EnM-e6.js";import{h as y}from"./page-DqVict88.js";import b from"./escalated-section-BmzDKawp.js";import"./index-cYOT7JlB.js";import"./tickets-service-BlgmX7ov.js";import"./activities-service-BaJCmKbj.js";import"./internals-service-B9kSbxh_.js";import"./loading-cC9aGlE7.js";import"./modal-CqQKV-tv.js";import"./transition-FGm23vF7.js";import"./dialog-K3CQfzyK.js";import"./reason-Dx2dq_gx.js";import"./select-DqEutgH0.js";import"./initial-templates-D3p0eA2g.js";import"./email-template-service-vzftniHp.js";import"./index-DsbHjJZ8.js";import"./asyncToGenerator-BHyMBGJS.js";import"./render-CDdRFazO.js";import"./CheckCircleFilled-BC4CfrEt.js";import"./pickAttrs-CvfN6BGJ.js";import"./InfoCircleFilled-DqD8uBxJ.js";import"./useZIndex-DWp3nWXN.js";import"./motion-4S5rSXvC.js";import"./button-DBFesdvF.js";import"./compact-item-CxpGwtBJ.js";import"./Modal-BIi86h0z.js";import"./index-C4WGqG5l.js";import"./motion-D4X3AGIU.js";import"./KeyCode-DNlgD2sM.js";import"./fade-BiUjXU3D.js";import"./zoom-dhlgYcsn.js";import"./ContextIsolator-CnHmmWmL.js";import"./useClosable-Bh5vmRM2.js";import"./useCSSVarCls-BVJMh7rG.js";import"./useLocale-CyrVfGED.js";import"./PurePanel-BmCdCPUv.js";import"./index-DKM4AaOi.js";import"./index-l2dzeVYE.js";import"./Overflow-PjNfArMz.js";import"./useIcons-nQrTRtIR.js";import"./CheckOutlined-nh2iJdHD.js";import"./DownOutlined-C85yxMZV.js";import"./index-Bj-9xytT.js";import"./customer-tickets-thunk-BwNIeDn_.js";import"./files-service-CzfXzxsy.js";function bs(){var l;const{ticket:s}=o(m=>m.tickets),{user:i}=o(m=>m.app),[v,a]=h.useState(!1);function p(m){i.role_id==1?r.visit(`/administrator/tickets/details/${s==null?void 0:s.id}/edit`):r.visit(`/agent/tickets/details/${s==null?void 0:s.id}/edit`)}async function c(m){if(confirm("Are you sure you want to open the ticket?")){a(!0);try{(s==null?void 0:s.call_type)=="CF-Warranty Claim"?await n.dispatch(x(s==null?void 0:s.id,"WARRANTY VALIDATION")):(s==null?void 0:s.call_type)=="Parts"&&await n.dispatch(x(s==null?void 0:s.id,"PARTS VALIDATION")),a(!1),r.visit(u("details"))}catch{a(!1)}}}const t=m=>{if(!m)return"N/A";const d=m.replace(/[^\d]/g,"");return d.length!==10?"N/A":d.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")};function g(){window.open("/print/ticket_details/"+(s==null?void 0:s.id),"_blank")}return e.jsxs("div",{className:"m-5 py-5",children:[e.jsxs("div",{className:"px-4 sm:px-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Ticket Details"}),e.jsx("button",{onClick:g,className:"p-2 bg-green-500 hover:bg-green-600 rounded-md text-white",children:"Print PDF"})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{children:i.role_id==1&&e.jsx(b,{data:s})}),(s==null?void 0:s.email)&&e.jsx(N,{}),e.jsx(f,{}),e.jsx("button",{onClick:p,className:"bg-blue-500 p-2 text-white  hover:bg-blue-600  w-48",children:e.jsx("div",{className:"p-1 w-full flex items-center justify-center",children:"EDIT TICKET"})}),(s==null?void 0:s.status)=="CLOSED"?e.jsx("button",{onClick:c,className:"bg-violet-500 p-3 text-white  hover:bg-violet-600 w-48",children:"OPEN"}):e.jsx(j,{data:s})]})]}),e.jsx("h3",{className:"text-base font-semibold leading-7 text-red-600",children:(s==null?void 0:s.move_status)??""}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6  font-medium text-gray-500",children:"Personal details and ticket?."})]}),e.jsx("div",{className:"mt-6 border-t border-gray-100",children:e.jsxs("dl",{className:"divide-y divide-gray-100",children:[e.jsx("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Case File Number :"})," ",s==null?void 0:s.ticket_id]})}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Full name :"})," ",s==null?void 0:s.fname," ",s==null?void 0:s.lname]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Email :"})," ",s==null?void 0:s.email]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Phone :"})," ",t(s==null?void 0:s.phone)]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Purchase Date :"})," ",y(s==null?void 0:s.purchase_date).format("LL")]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Calling From :"})," ",t(s==null?void 0:s.phone2)]}),e.jsx("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0"})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Store Name:"})," ",((l=s==null?void 0:s.receipt)==null?void 0:l.store)??"NA"]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:["Brand Name:"," ",s==null?void 0:s.brand]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Model # :"})," ",s==null?void 0:s.item_number]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Unit :"})," ",s==null?void 0:s.unit]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Serial # :"})," ",s==null?void 0:s.serial_number]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Item Type :"})," ",s==null?void 0:s.class]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900 flex",children:[e.jsx("b",{children:"Issue :"})," ",e.jsx("div",{className:"flex justify-center items-center m-1 font-medium py-1 px-2 rounded-md text-blue-100 bg-blue-700 border border-blue-700",children:e.jsx("div",{className:"text-xs font-normal leading-none max-w-full flex-initial",children:s==null?void 0:s.issue})})]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Resolution :"})," ",s==null?void 0:s.call_type]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Country :"})," ",s==null?void 0:s.country]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Zip Code / Postal :"})," ",s==null?void 0:s.zip_code]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Address :"})," ",s==null?void 0:s.address]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"State :"})," ",s==null?void 0:s.state]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Mailing Address :"})," ",s==null?void 0:s.address2]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Authorized Service Center:"})," N/A"]})]}),e.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"City :"})," ",s==null?void 0:s.city]}),e.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[e.jsx("b",{children:"Remarks :"})," ",s==null?void 0:s.remarks]}),e.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[e.jsx("b",{children:"Explanation :"})," ",s==null?void 0:s.explanation]})]})]})})]})}export{bs as default};
