import{r as a,j as t,s as b}from"./page-BcN5q7Qe.js";import{L as x}from"./loading-4Akoss2H.js";import{M as h}from"./modal-B87SzA42.js";import{u as c}from"./app-B9bKX6Vz.js";import{S as y}from"./select-C7lepmS3.js";import{t as j}from"./user-service-aLJspJzw.js";import{a as v}from"./customer-tickets-thunk-CrKFnQQm.js";import"./transition-CzI2sTiU.js";import"./dialog-CiLBxGwf.js";import"./index-B3QcIzP-.js";import"./tickets-service-DR4SiVTG.js";import"./files-service-ByYa5Hh0.js";function I({selected:i}){const o=window.location.pathname.split("/")[3],[u,s]=a.useState(!1),[m,r]=a.useState(!1),{users:d}=c(e=>e.users),[n,f]=a.useState(""),{user:p}=c(e=>e.app);async function l(e){if(e.preventDefault(),r(!0),n)try{await j({user:p,selected:i,agent:n,account_id:o}),await b.dispatch(v(o)),r(!1),s(!1)}catch{r(!1)}else r(!1)}function g(e){f(e)}return t.jsxs("div",{children:[t.jsx("button",{type:"button",onClick:()=>s(!0),className:"p-3 w-52 bg-blue-500 text-white rounded-sm hover:to-blue-600 my-4",children:"TRANSFER TICKETS"}),t.jsx(h,{open:u,setOpen:s,title:"Transfer Ticket(s)",children:t.jsxs("form",{onSubmit:l,children:[i.length," ticket(s) will be transfer!",t.jsx("div",{className:"my-4",children:t.jsx(y,{required:!0,onChange:g,name:"agent",value:n,label:"Select Agent",errorMessage:"Agent is required",data:[{name:"",value:""},...d.filter(e=>o!=e.id).map(e=>({name:e.name,value:e.id}))]})}),t.jsxs("div",{className:"flex border-gray-200 rounded-b  mt-3.5",children:[t.jsx("button",{onClick:l,type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center  ",children:m?t.jsx("div",{className:"py-1.5",children:t.jsx(x,{})}):"Yes, Proceed"}),t.jsx("button",{type:"button",className:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100     ",onClick:()=>s(!1),children:"Cancel"})]})]})})]})}export{I as default};
