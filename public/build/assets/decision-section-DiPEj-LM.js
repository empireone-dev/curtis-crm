import{r as a,j as e}from"./page-BNpu25Vy.js";import o from"./dealer-form-section-CAZWk8FR.js";import x from"./upload-files-section-CwZ_GaMi.js";import{S as h}from"./sweetalert2.esm.all-B0Dix5B2.js";import{h as p}from"./page-DBtsZyPx.js";import"./index-BI2sgu9w.js";import"./asyncToGenerator-y2MD6EK_.js";import"./index-oSI6-JwC.js";import"./pickAttrs-RPHs8Lcg.js";import"./motion-DXIbP6aI.js";import"./compact-item-LZnqzSXy.js";import"./collapse-BbEVqHco.js";import"./useZIndex-BOlZ46cz.js";import"./fade-C3n7wJyI.js";import"./useForceUpdate-XwV0PwLd.js";import"./motion-4S5rSXvC.js";import"./button-CTMOoJJC.js";import"./render-C8EwcgY9.js";import"./DeleteOutlined-BwJD-I52.js";import"./EyeOutlined-DJNKto2k.js";import"./CheckCircleFilled-yDpF37j4.js";import"./CheckOutlined-BZZFPCFf.js";import"./index-B6OPcJ8H.js";import"./index-DPKLIzn_.js";import"./ContextIsolator-CkXzKCb2.js";import"./roundedArrow-BwnxkRYR.js";import"./zoom-4hUM78Wf.js";import"./useLocale-CAcQyQJe.js";import"./UploadOutlined-CQU2hs8s.js";function g({title:s,titleId:l,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},r),s?a.createElement("title",{id:l},s):null,a.createElement("path",{d:"M5.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H6a.75.75 0 0 1-.75-.75V12ZM6 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H6ZM7.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H8a.75.75 0 0 1-.75-.75V12ZM8 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H8ZM9.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V10ZM10 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H10ZM9.25 14a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V14ZM12 9.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V10a.75.75 0 0 0-.75-.75H12ZM11.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H12a.75.75 0 0 1-.75-.75V12ZM12 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H12ZM13.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H14a.75.75 0 0 1-.75-.75V10ZM14 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H14Z"}),a.createElement("path",{fillRule:"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z",clipRule:"evenodd"}))}const j=a.forwardRef(g);function N({title:s,titleId:l,...r},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},r),s?a.createElement("title",{id:l},s):null,a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-5.5-2.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10 12a5.99 5.99 0 0 0-4.793 2.39A6.483 6.483 0 0 0 10 16.5a6.483 6.483 0 0 0 4.793-2.11A5.99 5.99 0 0 0 10 12Z",clipRule:"evenodd"}))}const f=a.forwardRef(N);async function v(s){return(await axios.post("/api/repair_information",s)).data}function K({data:s,callback:l,setForm:r}){var m;const[i,t]=a.useState(!1);console.log("data",s);async function n(c,d){t(!0);try{await v({...s,decision_status:c,status:d}),t(!1),h.fire({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}catch{t(!1)}}return e.jsx(e.Fragment,{children:e.jsxs("main",{children:[e.jsxs("header",{className:"relative isolate",children:[e.jsxs("div",{"aria-hidden":"true",className:"absolute inset-0 -z-10 overflow-hidden",children:[e.jsx("div",{className:"absolute top-full left-16 -mt-16 transform-gpu opacity-50 blur-3xl xl:left-1/2 xl:-ml-80",children:e.jsx("div",{style:{clipPath:"polygon(100% 38.5%, 82.6% 100%, 60.2% 37.7%, 52.4% 32.1%, 47.5% 41.8%, 45.2% 65.6%, 27.5% 23.4%, 0.1% 35.3%, 17.9% 0%, 27.7% 23.4%, 76.2% 2.5%, 74.2% 56%, 100% 38.5%)"},className:"aspect-1154/678 w-[72.125rem] bg-linear-to-br from-[#FF80B5] to-[#9089FC]"})}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gray-900/5"})]}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8",children:e.jsx("div",{className:"mx-auto flex max-w-2xl items-center justify-between gap-x-8 lg:mx-0 lg:max-w-none",children:e.jsxs("div",{className:"flex items-center gap-x-6",children:[e.jsx("img",{alt:"",src:"/images/logo.png",className:"w-52 flex-none   ring-gray-900/10"}),e.jsx("h1",{children:e.jsxs("div",{className:"mt-1 text-base font-semibold text-gray-900",children:["CaseFile: ",s.ticket_id," "]})})]})})})]}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-5 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto grid max-w-2xl grid-cols-1 grid-rows-1 items-start gap-x-8 gap-y-8 lg:mx-0 lg:max-w-none lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-start-3 lg:row-end-1",children:[e.jsx("h2",{className:"sr-only",children:"Summary"}),e.jsxs("div",{className:"rounded-lg bg-gray-50 ring-1 shadow-xs ring-gray-900/5",children:[e.jsxs("dl",{className:"flex flex-wrap",children:[e.jsxs("div",{className:"flex-auto pt-6 pl-6",children:[e.jsx("dt",{className:"text-sm/6 font-semibold text-gray-900",children:"Amount"}),e.jsxs("dd",{className:"mt-1 text-base font-semibold text-gray-900",children:["$ ",parseInt(((m=s==null?void 0:s.dealer)==null?void 0:m.total)??0).toFixed(2)]})]}),e.jsxs("div",{className:"flex-none self-end px-6 pt-4",children:[e.jsx("dt",{className:"sr-only",children:"Status"}),e.jsx("dd",{className:"rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-600 ring-1 ring-green-600/20 ring-inset",children:"Paid"})]}),e.jsxs("div",{className:"mt-6 flex w-full flex-none gap-x-4 border-t border-gray-900/5 px-6 pt-6",children:[e.jsxs("dt",{className:"flex-none",children:[e.jsx("span",{className:"sr-only",children:"Client"}),e.jsx(f,{"aria-hidden":"true",className:"h-6 w-5 text-gray-400"})]}),e.jsxs("dd",{className:"text-sm/6 font-medium text-gray-900",children:[s.fname," ",s.mname," ",s.lname]})]}),e.jsxs("div",{className:"mt-4 flex w-full flex-none gap-x-4 px-6",children:[e.jsxs("dt",{className:"flex-none",children:[e.jsx("span",{className:"sr-only",children:"Due date"}),e.jsx(j,{"aria-hidden":"true",className:"h-6 w-5 text-gray-400"})]}),e.jsx("dd",{className:"text-sm/6 text-gray-500",children:e.jsx("time",{dateTime:"2023-01-31",children:p(s.purchase_date).format("LL")})})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-900/5 px-6 py-6"})]})]}),e.jsxs("div",{className:"-mx-4 px-4 py-8 ring-1 shadow-xs ring-gray-900/5 sm:mx-0 sm:rounded-lg sm:px-8 sm:pb-14 lg:col-span-2 lg:row-span-2 lg:row-end-2 xl:px-16 xl:pt-16 xl:pb-20",children:[e.jsx("div",{className:"text-xl  font-bold",children:"Purchase Information"}),e.jsxs("dl",{className:"mt-6 grid grid-cols-1 text-sm/6 sm:grid-cols-2",children:[e.jsx("div",{className:"sm:pr-4",children:e.jsx("dt",{className:"inline text-gray-500",children:"Purchase Date:"})}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsx("dt",{className:"inline text-gray-500",children:s.purchase_date})}),e.jsxs("div",{className:"sm:pr-4",children:[e.jsx("dt",{className:"inline text-gray-500",children:"Model Number:"})," "]}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsx("dt",{className:"inline text-gray-500",children:s.unit})})]}),e.jsx("div",{className:"mt-8 sm:mt-6 sm:border-t sm:border-gray-900/5 sm:pt-6 sm:pl-4"}),e.jsx("div",{className:"text-xl  font-bold",children:"Personal Information"}),e.jsxs("dl",{className:"mt-6 grid grid-cols-1 text-sm/6 sm:grid-cols-2",children:[e.jsx("div",{className:"sm:pr-4",children:e.jsx("dt",{className:"inline text-gray-500",children:"Customer Name:"})}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsxs("dt",{className:"inline text-gray-500",children:[s.fname," ",s.mname," ",s.lname]})}),e.jsxs("div",{className:"sm:pr-4",children:[e.jsx("dt",{className:"inline text-gray-500",children:"Address:"})," "]}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsx("dt",{className:"inline text-gray-500",children:s.address})}),e.jsxs("div",{className:"sm:pr-4",children:[e.jsx("dt",{className:"inline text-gray-500",children:"City, Province/State:"})," "]}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsxs("dt",{className:"inline text-gray-500",children:[s.city," ",s.state]})}),e.jsxs("div",{className:"sm:pr-4",children:[e.jsx("dt",{className:"inline text-gray-500",children:"Zipcode/Postal Code:"})," "]}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsx("dt",{className:"inline text-gray-500",children:s.zip_code})}),e.jsxs("div",{className:"sm:pr-4",children:[e.jsx("dt",{className:"inline text-gray-500",children:"Phone Number:"})," "]}),e.jsx("div",{className:"mt-2 sm:mt-0 sm:pl-4",children:e.jsx("dt",{className:"inline text-gray-500",children:s.phone})})]}),e.jsx(o,{form:s,setForm:r}),e.jsx("br",{}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>n("NOT REPAIRED","REPAIR UNSUCCESSFUL"),className:"bg-red-600 hover:bg-red-500 text-white p-2 rounded-md w-full",children:i?"Loading...":"NOT REPAIRED"}),e.jsx("button",{onClick:()=>n("REPAIRED","REPAIR SUCCESS"),className:"bg-green-600 hover:bg-green-500 text-white p-2 rounded-md w-full",children:i?"Loading...":"REPAIRED"})]})]}),e.jsxs("div",{className:"lg:col-start-3",children:[e.jsx("h2",{className:"text-sm/6 font-semibold text-gray-900",children:"Activity"}),e.jsx(x,{form:s,setForm:r})]})]})})]})})}export{K as default};
