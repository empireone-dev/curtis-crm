import{r as a,j as e}from"./page-DdRUgAPm.js";import{w as x,p as _}from"./initial-templates-D3p0eA2g.js";import{L as g}from"./loading-cC9aGlE7.js";import{r as w}from"./tickets-service-BlgmX7ov.js";import{u as j}from"./app-DZ0dl4_6.js";import{s as h}from"./index-Bj-9xytT.js";import"./email-template-service-vzftniHp.js";import"./index-cYOT7JlB.js";import"./asyncToGenerator-BHyMBGJS.js";import"./render-CDdRFazO.js";import"./CheckCircleFilled-BC4CfrEt.js";import"./pickAttrs-CvfN6BGJ.js";import"./InfoCircleFilled-DqD8uBxJ.js";import"./KeyCode-DNlgD2sM.js";import"./useCSSVarCls-BVJMh7rG.js";import"./useZIndex-DWp3nWXN.js";function H(){const[i,r]=a.useState(!1),{ticket:t}=j(s=>s.tickets),[o,n]=h.useMessage(),[c,p]=a.useState(""),[l,m]=a.useState("");a.useEffect(()=>{async function s(f){const d=await x(),y=await _();p(d.template_text),m(y.template_text)}s()},[]);async function u(s){r(!0);try{await w({ticket_id:t.id,call_type:t.call_type,body:t.call_type=="Parts"?l:c,subject:t.ticket_id,recipient:t.email}),r(!1),o.open({type:"success",content:"Sent Initial Email Successfully!"})}catch{r(!1),o.open({type:"error",content:"This is an error message"})}}return e.jsxs(e.Fragment,{children:[n,e.jsx("button",{disabled:i,onClick:u,className:"bg-purple-500 p-2 text-white  hover:bg-purple-600 flex items-center justify-center w-64",children:i?e.jsx(g,{}):e.jsx("div",{className:"p-1 w-full flex items-center justify-center",children:"RESEND INITIAL EMAIL"})})]})}export{H as default};
