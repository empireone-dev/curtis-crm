import{r as f,l as Pe,R as L,j as I}from"./app-B3OwiZvE.js";import{b as Se,a as D,o as g,O as me,U as X,u as J,p as ce,g as $e,e as oe,x as Fe,C as H,y as G,d as De,c as ve,q as _e}from"./transition-BOYEQtgY.js";import{o as Ae,y as je,f as Ne,s as Le,I as Z,n as Ve,m as be,a as j,t as ge,r as Be,b as Ke,c as Ue}from"./dialog-BTSi2OA0.js";import{X as qe}from"./XMarkIcon-Bza7Mb-h.js";function We({title:e,titleId:i,...t},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},t),e?f.createElement("title",{id:i},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Je=f.forwardRef(We),Xe=Je;function W(e,i,t){let n=t.initialDeps??[],o;return()=>{var r,l,c,u;let a;t.key&&((r=t.debug)!=null&&r.call(t))&&(a=Date.now());const p=e();if(!(p.length!==n.length||p.some((s,h)=>n[h]!==s)))return o;n=p;let C;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(C=Date.now()),o=i(...p),t.key&&((c=t.debug)!=null&&c.call(t))){const s=Math.round((Date.now()-a)*100)/100,h=Math.round((Date.now()-C)*100)/100,S=h/16,x=(v,M)=>{for(v=String(v);v.length<M;)v=" "+v;return v};console.info(`%câ± ${x(h,5)} /${x(s,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(u=t==null?void 0:t.onChange)==null||u.call(t,o),o}}function ae(e,i){if(e===void 0)throw new Error(`Unexpected undefined${i?`: ${i}`:""}`);return e}const He=(e,i)=>Math.abs(e-i)<1,Ye=e=>e,Qe=e=>{const i=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=i;o<=t;o++)n.push(o);return n},Ge=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=r=>{const{width:l,height:c}=r;i({width:Math.round(l),height:Math.round(c)})};if(n(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const o=new ResizeObserver(r=>{const l=r[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){n({width:c.inlineSize,height:c.blockSize});return}}n(t.getBoundingClientRect())});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},Ze=(e,i)=>{const t=e.scrollElement;if(!t)return;const n=()=>{i(t[e.options.horizontal?"scrollLeft":"scrollTop"])};return n(),t.addEventListener("scroll",n,{passive:!0}),()=>{t.removeEventListener("scroll",n)}},et=(e,i,t)=>{if(i!=null&&i.borderBoxSize){const n=i.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},tt=(e,{adjustments:i=0,behavior:t},n)=>{var o,r;const l=e+i;(r=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||r.call(o,{[n.options.horizontal?"left":"top"]:l,behavior:t})};class nt{constructor(i){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(o=>{o.forEach(r=>{this._measureElement(r.target,r)})}):null);return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var r;return(r=n())==null?void 0:r.observe(o,{box:"border-box"})},unobserve:o=>{var r;return(r=n())==null?void 0:r.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ye,rangeExtractor:Qe,onChange:()=>{},measureElement:et,initialRect:{width:0,height:0},scrollMargin:0,gap:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,...t}},this.notify=t=>{var n,o;(o=(n=this.options).onChange)==null||o.call(n,this,t)},this.maybeNotify=W(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,n=>{this.scrollAdjustments=0,this.scrollOffset!==n&&(this.isScrollingTimeoutId!==null&&(clearTimeout(this.isScrollingTimeoutId),this.isScrollingTimeoutId=null),this.isScrolling=!0,this.scrollDirection=this.scrollOffset<n?"forward":"backward",this.scrollOffset=n,this.maybeNotify(),this.isScrollingTimeoutId=setTimeout(()=>{this.isScrollingTimeoutId=null,this.isScrolling=!1,this.scrollDirection=null,this.maybeNotify()},this.options.scrollingDelay))})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.memoOptions=W(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,n,o,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:r}),{key:!1}),this.getFurthestMeasurement=(t,n)=>{const o=new Map,r=new Map;for(let l=n-1;l>=0;l--){const c=t[l];if(o.has(c.lane))continue;const u=r.get(c.lane);if(u==null||c.end>u.end?r.set(c.lane,c):c.end<u.end&&o.set(c.lane,!0),o.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,c)=>l.end===c.end?l.index-c.index:l.end-c.end)[0]:void 0},this.getMeasurements=W(()=>[this.memoOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:r},l)=>{const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let a=c;a<t;a++){const p=r(a),b=this.options.lanes===1?u[a-1]:this.getFurthestMeasurement(u,a),C=b?b.end+this.options.gap:n+o,s=l.get(p),h=typeof s=="number"?s:this.options.estimateSize(a),S=C+h,x=b?b.lane:a%this.options.lanes;u[a]={index:a,start:C,size:h,end:S,key:p,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=W(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,n,o)=>this.range=t.length>0&&n>0?ot({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=W(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,r)=>n===null?[]:t({...n,overscan:o,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.measurementsCache[this.indexFromElement(t)];if(!o||!t.isConnected){this.measureElementCache.forEach((c,u)=>{c===t&&(this.observer.unobserve(t),this.measureElementCache.delete(u))});return}const r=this.measureElementCache.get(o.key);r!==t&&(r&&this.observer.unobserve(r),this.observer.observe(t),this.measureElementCache.set(o.key,t));const l=this.options.measureElement(t,n,this);this.resizeItem(o,l)},this.resizeItem=(t,n)=>{const o=this.itemSizeCache.get(t.key)??t.size,r=n-o;r!==0&&(t.start<this.scrollOffset+this.scrollAdjustments&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=W(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let r=0,l=t.length;r<l;r++){const c=t[r],u=n[c];o.push(u)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();return ae(n[ye(0,n.length-1,o=>ae(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize();n==="auto"&&(t<=this.scrollOffset?n="start":t>=this.scrollOffset+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-this.getSize();return Math.max(Math.min(c,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=ae(this.getMeasurements()[t]);if(n==="auto")if(o.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)n="end";else if(o.start<=this.scrollOffset+this.options.scrollPaddingStart)n="start";else return[this.scrollOffset,n];const r=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,n),n]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[r,l]=this.getOffsetForIndex(t,n);this._scrollToOffset(r,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[u]=this.getOffsetForIndex(t,l);He(u,this.scrollOffset)||this.scrollToIndex(t,{align:l,behavior:o})}else this.scrollToIndex(t,{align:l,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(r=>r.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(i),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.maybeNotify()}}const ye=(e,i,t,n)=>{for(;e<=i;){const o=(e+i)/2|0,r=t(o);if(r<n)e=o+1;else if(r>n)i=o-1;else return o}return e>0?e-1:0};function ot({measurements:e,outerSize:i,scrollOffset:t}){const n=e.length-1,r=ye(0,n,c=>e[c].start,t);let l=r;for(;l<n&&e[l].end<t+i;)l++;return{startIndex:r,endIndex:l}}const rt=typeof document<"u"?f.useLayoutEffect:f.useEffect;function it(e){const i=f.useReducer(()=>({}),{})[1],t={...e,onChange:(o,r)=>{var l;r?Pe.flushSync(i):i(),(l=e.onChange)==null||l.call(e,o,r)}},[n]=f.useState(()=>new nt(t));return n.setOptions(t),f.useEffect(()=>n._didMount(),[]),rt(()=>n._willUpdate()),n}function lt(e){return it({observeElementRect:Ge,observeElementOffset:Ze,scrollToFn:tt,...e})}function de(e,i){let[t,n]=f.useState(e),o=Se(e);return D(()=>n(o.current),[o,n,...i]),t}function st(e,i,t){let[n,o]=f.useState(t),r=e!==void 0,l=f.useRef(r),c=f.useRef(!1),u=f.useRef(!1);return r&&!l.current&&!c.current?(c.current=!0,l.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&l.current&&!u.current&&(u.current=!0,l.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?e:n,g(a=>(r||o(a),i==null?void 0:i(a)))]}function xe(e){var i;if(e.type)return e.type;let t=(i=e.as)!=null?i:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function at(e,i){let[t,n]=f.useState(()=>xe(e));return D(()=>{n(xe(e))},[e.type,e.as]),D(()=>{t||i.current&&i.current instanceof HTMLButtonElement&&!i.current.hasAttribute("type")&&n("button")},[t,i]),t}function Oe(e){return[e.screenX,e.screenY]}function ut(){let e=f.useRef([-1,-1]);return{wasMoved(i){let t=Oe(i);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(i){e.current=Oe(i)}}}function ct({container:e,accept:i,walk:t,enabled:n=!0}){let o=f.useRef(i),r=f.useRef(t);f.useEffect(()=>{o.current=i,r.current=t},[i,t]),D(()=>{if(!e||!n)return;let l=Ae(e);if(!l)return;let c=o.current,u=r.current,a=Object.assign(b=>c(b),{acceptNode:c}),p=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;p.nextNode();)u(p.currentNode)},[e,n,o,r])}function dt(e){throw new Error("Unexpected object: "+e)}var E=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(E||{});function Ie(e,i){let t=i.resolveItems();if(t.length<=0)return null;let n=i.resolveActiveIndex(),o=n??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 1:{for(let r=o-1;r>=0;--r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 2:{for(let r=o+1;r<t.length;++r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 3:{for(let r=t.length-1;r>=0;--r)if(!i.resolveDisabled(t[r],r,t))return r;return n}case 4:{for(let r=0;r<t.length;++r)if(i.resolveId(t[r],r,t)===e.id)return r;return n}case 5:return null;default:dt(e)}}function Re(e={},i=null,t=[]){for(let[n,o]of Object.entries(e))Te(t,Ce(i,n),o);return t}function Ce(e,i){return e?e+"["+i+"]":i}function Te(e,i,t){if(Array.isArray(t))for(let[n,o]of t.entries())Te(e,Ce(i,n.toString()),o);else t instanceof Date?e.push([i,t.toISOString()]):typeof t=="boolean"?e.push([i,t?"1":"0"]):typeof t=="string"?e.push([i,t]):typeof t=="number"?e.push([i,`${t}`]):t==null?e.push([i,""]):Re(t,i,e)}var ft={},pt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pt||{}),ht=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ht||{}),mt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(mt||{}),vt=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(vt||{});function ue(e,i=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=i(e.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((l,c)=>l.dataRef.current.order-c.dataRef.current.order):Ue(n,l=>l.dataRef.current.domRef.current),r=t?o.indexOf(t):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let bt={1(e){var i;return(i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var i,t;if((i=e.dataRef.current)!=null&&i.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let n=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(n!==-1)return{...e,activeOptionIndex:n,comboboxState:0}}return{...e,comboboxState:0}},2(e,i){var t,n,o,r,l;if((t=e.dataRef.current)!=null&&t.disabled||(n=e.dataRef.current)!=null&&n.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let p=i.focus===E.Specific?i.idx:Ie(i,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var C,s;return(s=(C=e.activeOptionIndex)!=null?C:e.virtual.options.findIndex(h=>!e.virtual.disabled(h)))!=null?s:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),b=(r=i.trigger)!=null?r:2;return e.activeOptionIndex===p&&e.activationTrigger===b?e:{...e,activeOptionIndex:p,activationTrigger:b}}let c=ue(e);if(c.activeOptionIndex===null){let p=c.options.findIndex(b=>!b.dataRef.current.disabled);p!==-1&&(c.activeOptionIndex=p)}let u=i.focus===E.Specific?i.idx:Ie(i,{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled}),a=(l=i.trigger)!=null?l:2;return e.activeOptionIndex===u&&e.activationTrigger===a?e:{...e,...c,activeOptionIndex:u,activationTrigger:a}},3:(e,i)=>{var t,n,o;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,i.payload]};let r=i.payload,l=ue(e,u=>(u.push(r),u));e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(i.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let c={...e,...l,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(c.activeOptionIndex=0),c},4:(e,i)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(o=>o.id!==i.id)};let n=ue(e,o=>{let r=o.findIndex(l=>l.id===i.id);return r!==-1&&o.splice(r,1),o});return{...e,...n,activationTrigger:2}},5:(e,i)=>e.labelId===i.id?e:{...e,labelId:i.id},6:(e,i)=>e.activationTrigger===i.trigger?e:{...e,activationTrigger:i.trigger},7:(e,i)=>{var t;if(((t=e.virtual)==null?void 0:t.options)===i.options)return e;let n=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=i.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?n=o:n=null}return{...e,activeOptionIndex:n,virtual:Object.assign({},e.virtual,{options:i.options})}}},fe=f.createContext(null);fe.displayName="ComboboxActionsContext";function ee(e){let i=f.useContext(fe);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ee),t}return i}let Ee=f.createContext(null);function gt(e){var i;let t=B("VirtualProvider"),[n,o]=f.useMemo(()=>{let u=t.optionsRef.current;if(!u)return[0,0];let a=window.getComputedStyle(u);return[parseFloat(a.paddingBlockStart||a.paddingTop),parseFloat(a.paddingBlockEnd||a.paddingBottom)]},[t.optionsRef.current]),r=lt({scrollPaddingStart:n,scrollPaddingEnd:o,count:t.virtual.options.length,estimateSize(){return 40},getScrollElement(){var u;return(u=t.optionsRef.current)!=null?u:null},overscan:12}),[l,c]=f.useState(0);return D(()=>{c(u=>u+1)},[(i=t.virtual)==null?void 0:i.options]),L.createElement(Ee.Provider,{value:r},L.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:u=>{if(u){if(typeof process<"u"&&ft.JEST_WORKER_ID!==void 0||t.activationTrigger===0)return;t.activeOptionIndex!==null&&t.virtual.options.length>t.activeOptionIndex&&r.scrollToIndex(t.activeOptionIndex)}}},r.getVirtualItems().map(u=>{var a;return L.createElement(f.Fragment,{key:u.key},L.cloneElement((a=e.children)==null?void 0:a.call(e,{option:t.virtual.options[u.index],open:t.comboboxState===0}),{key:`${l}-${u.key}`,"data-index":u.index,"aria-setsize":t.virtual.options.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}}))})))}let pe=f.createContext(null);pe.displayName="ComboboxDataContext";function B(e){let i=f.useContext(pe);if(i===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,B),t}return i}function xt(e,i){return J(i.type,bt,e,i)}let Ot=f.Fragment;function It(e,i){let{value:t,defaultValue:n,onChange:o,form:r,name:l,by:c=null,disabled:u=!1,__demoMode:a=!1,nullable:p=!1,multiple:b=!1,immediate:C=!1,virtual:s=null,...h}=e,S=!1,x=null,[v=b?[]:void 0,M]=st(t,o,n),[k,P]=f.useReducer(xt,{dataRef:f.createRef(),comboboxState:a?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),$=f.useRef(!1),K=f.useRef({static:!1,hold:!1}),U=f.useRef(null),q=f.useRef(null),Y=f.useRef(null),R=f.useRef(null),y=g(typeof c=="string"?(m,O)=>{let F=c;return(m==null?void 0:m[F])===(O==null?void 0:O[F])}:c??((m,O)=>m===O)),_=g(m=>k.options.findIndex(O=>y(O.dataRef.current.value,m))),re=f.useCallback(m=>J(d.mode,{1:()=>v.some(O=>y(O,m)),0:()=>y(v,m)}),[v]),ie=g(m=>k.activeOptionIndex===_(m)),d=f.useMemo(()=>({...k,immediate:S,optionsPropsRef:K,labelRef:U,inputRef:q,buttonRef:Y,optionsRef:R,value:v,defaultValue:n,disabled:u,mode:b?1:0,virtual:k.virtual,get activeOptionIndex(){if($.current&&k.activeOptionIndex===null&&k.options.length>0){let m=k.options.findIndex(O=>!O.dataRef.current.disabled);if(m!==-1)return m}return k.activeOptionIndex},calculateIndex:_,compare:y,isSelected:re,isActive:ie,nullable:p,__demoMode:a}),[v,n,u,b,p,a,k,x]);D(()=>{},[x,void 0]),D(()=>{k.dataRef.current=d},[d]),je([d.buttonRef,d.inputRef,d.optionsRef],()=>se.closeCombobox(),d.comboboxState===0);let z=f.useMemo(()=>{var m,O,F;return{open:d.comboboxState===0,disabled:u,activeIndex:d.activeOptionIndex,activeOption:d.activeOptionIndex===null?null:d.virtual?d.virtual.options[(m=d.activeOptionIndex)!=null?m:0]:(F=(O=d.options[d.activeOptionIndex])==null?void 0:O.dataRef.current.value)!=null?F:null,value:v}},[d,u,v]),w=g(()=>{if(d.activeOptionIndex!==null){if(d.virtual)le(d.virtual.options[d.activeOptionIndex]);else{let{dataRef:m}=d.options[d.activeOptionIndex];le(m.current.value)}se.goToOption(E.Specific,d.activeOptionIndex)}}),N=g(()=>{P({type:0}),$.current=!0}),T=g(()=>{P({type:1}),$.current=!1}),A=g((m,O,F)=>($.current=!1,m===E.Specific?P({type:2,focus:E.Specific,idx:O,trigger:F}):P({type:2,focus:m,trigger:F}))),V=g((m,O)=>(P({type:3,payload:{id:m,dataRef:O}}),()=>{d.isActive(O.current.value)&&($.current=!0),P({type:4,id:m})})),we=g(m=>(P({type:5,id:m}),()=>P({type:5,id:null}))),le=g(m=>J(d.mode,{0(){return M==null?void 0:M(m)},1(){let O=d.value.slice(),F=O.findIndex(ne=>y(ne,m));return F===-1?O.push(m):O.splice(F,1),M==null?void 0:M(O)}})),Me=g(m=>{P({type:6,trigger:m})}),se=f.useMemo(()=>({onChange:le,registerOption:V,registerLabel:we,goToOption:A,closeCombobox:T,openCombobox:N,setActivationTrigger:Me,selectActiveOption:w}),[]),ke=i===null?{}:{ref:i},te=f.useRef(null),ze=ce();return f.useEffect(()=>{te.current&&n!==void 0&&ze.addEventListener(te.current,"reset",()=>{M==null||M(n)})},[te,M]),L.createElement(fe.Provider,{value:se},L.createElement(pe.Provider,{value:d},L.createElement($e,{value:J(d.comboboxState,{0:oe.Open,1:oe.Closed})},l!=null&&v!=null&&Re({[l]:v}).map(([m,O],F)=>L.createElement(Ne,{features:Le.Hidden,ref:F===0?ne=>{var he;te.current=(he=ne==null?void 0:ne.closest("form"))!=null?he:null}:void 0,...Fe({key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,name:m,value:O})})),H({ourProps:ke,theirProps:h,slot:z,defaultTag:Ot,name:"Combobox"}))))}let St="input";function yt(e,i){var t,n,o,r,l;let c=Z(),{id:u=`headlessui-combobox-input-${c}`,onChange:a,displayValue:p,type:b="text",...C}=e,s=B("Combobox.Input"),h=ee("Combobox.Input"),S=G(s.inputRef,i),x=Ve(s.inputRef),v=f.useRef(!1),M=ce(),k=g(()=>{h.onChange(null),s.optionsRef.current&&(s.optionsRef.current.scrollTop=0),h.goToOption(E.Nothing)}),P=function(){var d;return typeof p=="function"&&s.value!==void 0?(d=p(s.value))!=null?d:"":typeof s.value=="string"?s.value:""}();be(([d,z],[w,N])=>{if(v.current)return;let T=s.inputRef.current;T&&((N===0&&z===1||d!==w)&&(T.value=d),requestAnimationFrame(()=>{if(v.current||!T||(x==null?void 0:x.activeElement)!==T)return;let{selectionStart:A,selectionEnd:V}=T;Math.abs((V??0)-(A??0))===0&&A===0&&T.setSelectionRange(T.value.length,T.value.length)}))},[P,s.comboboxState,x]),be(([d],[z])=>{if(d===0&&z===1){if(v.current)return;let w=s.inputRef.current;if(!w)return;let N=w.value,{selectionStart:T,selectionEnd:A,selectionDirection:V}=w;w.value="",w.value=N,V!==null?w.setSelectionRange(T,A,V):w.setSelectionRange(T,A)}},[s.comboboxState]);let $=f.useRef(!1),K=g(()=>{$.current=!0}),U=g(()=>{M.nextFrame(()=>{$.current=!1})}),q=g(d=>{switch(v.current=!0,d.key){case j.Enter:if(v.current=!1,s.comboboxState!==0||$.current)return;if(d.preventDefault(),d.stopPropagation(),s.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),s.mode===0&&h.closeCombobox();break;case j.ArrowDown:return v.current=!1,d.preventDefault(),d.stopPropagation(),J(s.comboboxState,{0:()=>h.goToOption(E.Next),1:()=>h.openCombobox()});case j.ArrowUp:return v.current=!1,d.preventDefault(),d.stopPropagation(),J(s.comboboxState,{0:()=>h.goToOption(E.Previous),1:()=>{h.openCombobox(),M.nextFrame(()=>{s.value||h.goToOption(E.Last)})}});case j.Home:if(d.shiftKey)break;return v.current=!1,d.preventDefault(),d.stopPropagation(),h.goToOption(E.First);case j.PageUp:return v.current=!1,d.preventDefault(),d.stopPropagation(),h.goToOption(E.First);case j.End:if(d.shiftKey)break;return v.current=!1,d.preventDefault(),d.stopPropagation(),h.goToOption(E.Last);case j.PageDown:return v.current=!1,d.preventDefault(),d.stopPropagation(),h.goToOption(E.Last);case j.Escape:return v.current=!1,s.comboboxState!==0?void 0:(d.preventDefault(),s.optionsRef.current&&!s.optionsPropsRef.current.static&&d.stopPropagation(),s.nullable&&s.mode===0&&s.value===null&&k(),h.closeCombobox());case j.Tab:if(v.current=!1,s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&h.selectActiveOption(),h.closeCombobox();break}}),Y=g(d=>{a==null||a(d),s.nullable&&s.mode===0&&d.target.value===""&&k(),h.openCombobox()}),R=g(d=>{var z,w,N;let T=(z=d.relatedTarget)!=null?z:ge.find(A=>A!==d.currentTarget);if(v.current=!1,!((w=s.optionsRef.current)!=null&&w.contains(T))&&!((N=s.buttonRef.current)!=null&&N.contains(T))&&s.comboboxState===0)return d.preventDefault(),s.mode===0&&(s.nullable&&s.value===null?k():s.activationTrigger!==1&&h.selectActiveOption()),h.closeCombobox()}),y=g(d=>{var z,w,N;let T=(z=d.relatedTarget)!=null?z:ge.find(A=>A!==d.currentTarget);(w=s.buttonRef.current)!=null&&w.contains(T)||(N=s.optionsRef.current)!=null&&N.contains(T)||s.disabled||s.immediate&&s.comboboxState!==0&&(h.openCombobox(),M.nextFrame(()=>{h.setActivationTrigger(1)}))}),_=de(()=>{if(s.labelId)return[s.labelId].join(" ")},[s.labelId]),re=f.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]),ie={ref:S,id:u,role:"combobox",type:b,"aria-controls":(t=s.optionsRef.current)==null?void 0:t.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(n=s.options.find(d=>{var z;return!((z=s.virtual)!=null&&z.disabled(d.dataRef.current.value))&&s.compare(d.dataRef.current.value,s.virtual.options[s.activeOptionIndex])}))==null?void 0:n.id:(o=s.options[s.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":_,"aria-autocomplete":"list",defaultValue:(l=(r=e.defaultValue)!=null?r:s.defaultValue!==void 0?p==null?void 0:p(s.defaultValue):null)!=null?l:s.defaultValue,disabled:s.disabled,onCompositionStart:K,onCompositionEnd:U,onKeyDown:q,onChange:Y,onFocus:y,onBlur:R};return H({ourProps:ie,theirProps:C,slot:re,defaultTag:St,name:"Combobox.Input"})}let Rt="button";function Ct(e,i){var t;let n=B("Combobox.Button"),o=ee("Combobox.Button"),r=G(n.buttonRef,i),l=Z(),{id:c=`headlessui-combobox-button-${l}`,...u}=e,a=ce(),p=g(S=>{switch(S.key){case j.ArrowDown:return S.preventDefault(),S.stopPropagation(),n.comboboxState===1&&o.openCombobox(),a.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case j.ArrowUp:return S.preventDefault(),S.stopPropagation(),n.comboboxState===1&&(o.openCombobox(),a.nextFrame(()=>{n.value||o.goToOption(E.Last)})),a.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case j.Escape:return n.comboboxState!==0?void 0:(S.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&S.stopPropagation(),o.closeCombobox(),a.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),b=g(S=>{if(Be(S.currentTarget))return S.preventDefault();n.comboboxState===0?o.closeCombobox():(S.preventDefault(),o.openCombobox()),a.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),C=de(()=>{if(n.labelId)return[n.labelId,c].join(" ")},[n.labelId,c]),s=f.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),h={ref:r,id:c,type:at(e,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=n.optionsRef.current)==null?void 0:t.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":C,disabled:n.disabled,onClick:b,onKeyDown:p};return H({ourProps:h,theirProps:u,slot:s,defaultTag:Rt,name:"Combobox.Button"})}let Tt="label";function Et(e,i){let t=Z(),{id:n=`headlessui-combobox-label-${t}`,...o}=e,r=B("Combobox.Label"),l=ee("Combobox.Label"),c=G(r.labelRef,i);D(()=>l.registerLabel(n),[n]);let u=g(()=>{var p;return(p=r.inputRef.current)==null?void 0:p.focus({preventScroll:!0})}),a=f.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled}),[r]);return H({ourProps:{ref:c,id:n,onClick:u},theirProps:o,slot:a,defaultTag:Tt,name:"Combobox.Label"})}let wt="ul",Mt=me.RenderStrategy|me.Static;function kt(e,i){let t=Z(),{id:n=`headlessui-combobox-options-${t}`,hold:o=!1,...r}=e,l=B("Combobox.Options"),c=G(l.optionsRef,i),u=De(),a=u!==null?(u&oe.Open)===oe.Open:l.comboboxState===0;D(()=>{var s;l.optionsPropsRef.current.static=(s=e.static)!=null?s:!1},[l.optionsPropsRef,e.static]),D(()=>{l.optionsPropsRef.current.hold=o},[l.optionsPropsRef,o]),ct({container:l.optionsRef.current,enabled:l.comboboxState===0,accept(s){return s.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});let p=de(()=>{var s,h;return(h=l.labelId)!=null?h:(s=l.buttonRef.current)==null?void 0:s.id},[l.labelId,l.buttonRef.current]),b=f.useMemo(()=>({open:l.comboboxState===0,option:void 0}),[l]),C={"aria-labelledby":p,role:"listbox","aria-multiselectable":l.mode===1?!0:void 0,id:n,ref:c};return l.virtual&&l.comboboxState===0&&Object.assign(r,{children:L.createElement(gt,null,r.children)}),H({ourProps:C,theirProps:r,slot:b,defaultTag:wt,features:Mt,visible:a,name:"Combobox.Options"})}let zt="li";function Pt(e,i){var t;let n=Z(),{id:o=`headlessui-combobox-option-${n}`,disabled:r=!1,value:l,order:c=null,...u}=e,a=B("Combobox.Option"),p=ee("Combobox.Option"),b=a.virtual?a.activeOptionIndex===a.calculateIndex(l):a.activeOptionIndex===null?!1:((t=a.options[a.activeOptionIndex])==null?void 0:t.id)===o,C=a.isSelected(l),s=f.useRef(null),h=Se({disabled:r,value:l,domRef:s,order:c}),S=f.useContext(Ee),x=G(i,s,S?S.measureElement:null),v=g(()=>p.onChange(l));D(()=>p.registerOption(o,h),[h,o]);let M=f.useRef(!(a.virtual||a.__demoMode));D(()=>{if(!a.virtual||!a.__demoMode)return;let R=ve();return R.requestAnimationFrame(()=>{M.current=!0}),R.dispose},[a.virtual,a.__demoMode]),D(()=>{if(!M.current||a.comboboxState!==0||!b||a.activationTrigger===0)return;let R=ve();return R.requestAnimationFrame(()=>{var y,_;(_=(y=s.current)==null?void 0:y.scrollIntoView)==null||_.call(y,{block:"nearest"})}),R.dispose},[s,b,a.comboboxState,a.activationTrigger,a.activeOptionIndex]);let k=g(R=>{var y;if(r||(y=a.virtual)!=null&&y.disabled(l))return R.preventDefault();v(),Ke()||requestAnimationFrame(()=>{var _;return(_=a.inputRef.current)==null?void 0:_.focus({preventScroll:!0})}),a.mode===0&&requestAnimationFrame(()=>p.closeCombobox())}),P=g(()=>{var R;if(r||(R=a.virtual)!=null&&R.disabled(l))return p.goToOption(E.Nothing);let y=a.calculateIndex(l);p.goToOption(E.Specific,y)}),$=ut(),K=g(R=>$.update(R)),U=g(R=>{var y;if(!$.wasMoved(R)||r||(y=a.virtual)!=null&&y.disabled(l)||b)return;let _=a.calculateIndex(l);p.goToOption(E.Specific,_,0)}),q=g(R=>{var y;$.wasMoved(R)&&(r||(y=a.virtual)!=null&&y.disabled(l)||b&&(a.optionsPropsRef.current.hold||p.goToOption(E.Nothing)))}),Y=f.useMemo(()=>({active:b,selected:C,disabled:r}),[b,C,r]);return H({ourProps:{id:o,ref:x,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":C,disabled:void 0,onClick:k,onFocus:P,onPointerEnter:K,onMouseEnter:K,onPointerMove:U,onMouseMove:U,onPointerLeave:q,onMouseLeave:q},theirProps:u,slot:Y,defaultTag:zt,name:"Combobox.Option"})}let $t=X(It),Ft=X(Ct),Dt=X(yt),_t=X(Et),At=X(kt),jt=X(Pt),Q=Object.assign($t,{Input:Dt,Button:Ft,Label:_t,Options:At,Option:jt});const Kt=[{name:"CF-Warranty Claim",value:"CF-Warranty Claim"},{name:"TS-Tech Support",value:"TS-Tech Support"},{name:"Parts",value:"Parts"}];function Ut({value:e,onChange:i}){const[t,n]=f.useState([]),[o,r]=f.useState("");f.useEffect(()=>{i(JSON.stringify(t),"issue")},[t.length]);const l=o===""?e:e.filter(u=>u.name.toLowerCase().replace(/\s+/g,"").includes(o.toLowerCase().replace(/\s+/g,"")));function c(u){const a=t.filter(p=>p!==u);n(a)}return I.jsx(Q,{value:t,onChange:n,multiple:!0,children:I.jsxs("div",{className:"relative mt-1",children:[I.jsxs("div",{className:"peer text-black placeholder-transparent w-full py-1 px-5 border-gray-500 border bg-transparent rounded-sm bg-white focus-within:outline-none focus-within:border-blue-500",placeholder:"",children:[I.jsx("div",{className:"grid grid-flow-row-dense grid-cols-4 ",children:t.map((u,a)=>I.jsxs("div",{className:"flex justify-center items-center m-1 font-medium py-1 px-2  rounded-full text-blue-100 bg-blue-700 border border-blue-700 ",children:[I.jsx("div",{slot:"avatar",children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-heart w-3 mr-1",children:I.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),I.jsx("div",{className:"text-xs font-normal leading-none max-w-full flex-initial",children:u}),I.jsx("div",{className:"flex flex-auto flex-row-reverse",children:I.jsx("button",{type:"button",onClick:()=>c(u),children:I.jsx(qe,{className:"h-6"})})})]},a))}),I.jsx(Q.Button,{children:I.jsx(Q.Input,{className:"w-[75vw] border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0",displayValue:u=>u.name,onChange:u=>r(u.target.value)})})]}),I.jsx(_e,{as:f.Fragment,leave:"transition ease-in duration-100 ",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:()=>r(""),children:I.jsx(Q.Options,{className:"absolute relative mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:l.length===0&&o!==""?I.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):l.map((u,a)=>I.jsx(Q.Option,{className:({active:p})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${p?"bg-blue-600 text-white":"text-gray-900"}`,value:u.name,children:({selected:p,active:b})=>I.jsxs(I.Fragment,{children:[I.jsx("span",{className:`block truncate ${p?"font-medium":"font-normal"}`,children:u.name}),p?I.jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${b?"text-white":"text-blue-600"}`,children:I.jsx(Xe,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},a))})})]})})}export{Ut as A,Kt as c};
