import{r as s,j as e}from"./page-BcN5q7Qe.js";import{L as v}from"./loading-4Akoss2H.js";import{u as j}from"./app-MTOgPJqm.js";import{F as b}from"./TrashIcon-BFTBnx33.js";import{X as o}from"./transition-CzI2sTiU.js";import{P as u}from"./dialog-CiLBxGwf.js";function z({files:a,deleteFileImage:x,isLoading:h}){var m;const[f,i]=s.useState(!1),[l,n]=s.useState(0),{user:p}=j(t=>t.app),g=s.useRef(null);function w(t,r){i(t),n(a.findIndex(y=>y.id===r.id))}const c=()=>{n(t=>t===a.length-1?0:t+1)},d=()=>{n(t=>t===0?a.length-1:t-1)};return s.useEffect(()=>{const t=r=>{r.key==="ArrowRight"?c():r.key==="ArrowLeft"&&d()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[l]),e.jsxs(e.Fragment,{children:[a.map((t,r)=>e.jsx("li",{className:"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 xl:w-1/5 h-36",id:t,children:e.jsxs("article",{className:"group w-full h-full rounded-md focus:outline-none focus:shadow-outline relative bg-gray-100 cursor-pointer text-transparent hover:text-white shadow-sm",children:[e.jsx("section",{className:"flex flex-col rounded-md text-xs w-full h-full  absolute top-0 py-2 px-3",children:p.role_id!==2&&e.jsx("div",{className:"flex",children:e.jsx("button",{className:"delete ml-auto focus:outline-none p-1 rounded-md z-10 text-red-500 hover:bg-gray-500",onClick:()=>x(t.id,t.ticket_id),children:h?e.jsx(v,{}):e.jsx(b,{className:"h-6 text-red-500 relative"})})})}),e.jsx("img",{onClick:()=>w(!0,t),className:"img-preview w-full h-full sticky object-cover rounded-md bg-fixed",alt:"upload preview",src:t==null?void 0:t.url})]})},r)),e.jsx(o.Root,{show:f,as:s.Fragment,children:e.jsxs(u,{as:"div",className:"relative z-10",initialFocus:g,onClose:i,children:[e.jsx(o.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:e.jsx(o.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:e.jsxs(u.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:w-full max-w-6xl",children:[e.jsx("img",{src:(m=a[l])==null?void 0:m.url,className:"w-full h-full"}),l>0&&e.jsx("button",{className:"prev-button absolute top-1/2 transform -translate-y-1/2 left-0 ml-2 rounded-full p-2 text-gray-600 hover:bg-gray-400",onClick:d,children:e.jsx("svg",{className:"fill-current w-12 h-12",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M15.17 18.36l-6-6 6-6 1.41 1.29-7.7 7.71 7.7 7.64z"})})}),l<a.length-1&&e.jsx("button",{className:"next-button absolute top-1/2 transform -translate-y-1/2 right-0 mr-2 rounded-full p-2 text-gray-600 hover:bg-gray-400",onClick:c,children:e.jsx("svg",{className:"fill-current w-12 h-12",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8.83 18.36l6-6-6-6.35 1.41-1.29 7.7 7.64-7.7 7.71z"})})})]})})})})]})})]})}export{z as I};
