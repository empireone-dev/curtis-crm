import{r as p,j as r,y as u}from"./page-BNpu25Vy.js";import{T as f}from"./textarea-C4pOphf2.js";import{u as x}from"./desicion-making-service-xTi5VJCv.js";import{u as g}from"./app-BJI3E93v.js";import{r as h}from"./routing-BzgBYGmF.js";import{U as j}from"./index-BI2sgu9w.js";import{B as m}from"./button-CTMOoJJC.js";import{R as y}from"./UploadOutlined-CQU2hs8s.js";import"./index-oSI6-JwC.js";import"./asyncToGenerator-y2MD6EK_.js";import"./pickAttrs-RPHs8Lcg.js";import"./motion-DXIbP6aI.js";import"./compact-item-LZnqzSXy.js";import"./collapse-BbEVqHco.js";import"./useZIndex-BOlZ46cz.js";import"./fade-C3n7wJyI.js";import"./useForceUpdate-XwV0PwLd.js";import"./motion-4S5rSXvC.js";import"./DeleteOutlined-BwJD-I52.js";import"./EyeOutlined-DJNKto2k.js";import"./CheckCircleFilled-yDpF37j4.js";import"./CheckOutlined-BZZFPCFf.js";import"./index-B6OPcJ8H.js";import"./index-DPKLIzn_.js";import"./ContextIsolator-CkXzKCb2.js";import"./roundedArrow-BwnxkRYR.js";import"./zoom-4hUM78Wf.js";import"./useLocale-CAcQyQJe.js";import"./render-C8EwcgY9.js";function X(){const[e,i]=p.useState({}),[_,s]=p.useState(!1),{user:a}=g(t=>t.app),n=window.location.pathname.split("/")[4];console.log("user",a);const l={method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",onChange({file:t,fileList:o}){t.status!=="uploading"&&i({...e,file:t.originFileObj})}};async function c(t){const o=new FormData;o.append("file",e.file),o.append("notes",e.notes),o.append("ticket_id",n),o.append("user_id",a.id);try{const d=await x(o);s(!0),u.visit(h("files"))}catch{s(!1)}}return r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsx(j,{listType:"picture",...l,children:r.jsx(m,{icon:r.jsx(y,{}),children:"Upload"})}),r.jsx(f,{name:"notes",value:e.notes??"",label:"Notes",type:"",errorMessage:"Notes is required!",onChange:t=>i({...e,notes:t}),required:!0}),r.jsx(m,{onClick:c,type:"primary",size:"large",children:"UPLOAD"})]})}export{X as default};
